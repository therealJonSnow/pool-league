function Ji(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const up="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hp=Ji(up);function qc(t){return!!t||t===""}function Zi(t){if(j(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Fe(s)?pp(s):Zi(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(Fe(t))return t;if(Ae(t))return t}}const fp=/;(?![^(]*\))/g,dp=/:(.+)/;function pp(t){const e={};return t.split(fp).forEach(n=>{if(n){const s=n.split(dp);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function eo(t){let e="";if(Fe(t))e=t;else if(j(t))for(let n=0;n<t.length;n++){const s=eo(t[n]);s&&(e+=s+" ")}else if(Ae(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function gp(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=fs(t[s],e[s]);return n}function fs(t,e){if(t===e)return!0;let n=zc(t),s=zc(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=j(t),s=j(e),n||s)return n&&s?gp(t,e):!1;if(n=Ae(t),s=Ae(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!fs(t[o],e[o]))return!1}}return String(t)===String(e)}function to(t,e){return t.findIndex(n=>fs(n,e))}const ST=t=>t==null?"":j(t)||Ae(t)&&(t.toString===Wc||!Y(t.toString))?JSON.stringify(t,Hc,2):String(t),Hc=(t,e)=>e&&e.__v_isRef?Hc(t,e.value):Nn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:Rn(e)?{[`Set(${e.size})`]:[...e.values()]}:Ae(e)&&!j(e)&&!Qc(e)?String(e):e,ue={},Sn=[],mt=()=>{},mp=()=>!1,yp=/^on[^a-z]/,pr=t=>yp.test(t),no=t=>t.startsWith("onUpdate:"),xe=Object.assign,Kc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},vp=Object.prototype.hasOwnProperty,ne=(t,e)=>vp.call(t,e),j=Array.isArray,Nn=t=>gr(t)==="[object Map]",Rn=t=>gr(t)==="[object Set]",zc=t=>t instanceof Date,Y=t=>typeof t=="function",Fe=t=>typeof t=="string",so=t=>typeof t=="symbol",Ae=t=>t!==null&&typeof t=="object",Gc=t=>Ae(t)&&Y(t.then)&&Y(t.catch),Wc=Object.prototype.toString,gr=t=>Wc.call(t),wp=t=>gr(t).slice(8,-1),Qc=t=>gr(t)==="[object Object]",ro=t=>Fe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,mr=Ji(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yr=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Ep=/-(\w)/g,Et=yr(t=>t.replace(Ep,(e,n)=>n?n.toUpperCase():"")),Tp=/\B([A-Z])/g,Dn=yr(t=>t.replace(Tp,"-$1").toLowerCase()),vr=yr(t=>t.charAt(0).toUpperCase()+t.slice(1)),io=yr(t=>t?`on${vr(t)}`:""),ds=(t,e)=>!Object.is(t,e),wr=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Er=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},oo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Yc;const bp=()=>Yc||(Yc=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Xt;const Tr=[];class Ip{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Xt&&(this.parent=Xt,this.index=(Xt.scopes||(Xt.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(Tr.push(this),Xt=this)}off(){this.active&&(Tr.pop(),Xt=Tr[Tr.length-1])}stop(e){if(this.active){if(this.effects.forEach(n=>n.stop()),this.cleanups.forEach(n=>n()),this.scopes&&this.scopes.forEach(n=>n.stop(!0)),this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function _p(t,e){e=e||Xt,e&&e.active&&e.effects.push(t)}const ao=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Xc=t=>(t.w&Mt)>0,Jc=t=>(t.n&Mt)>0,Ap=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Mt},Cp=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];Xc(r)&&!Jc(r)?r.delete(t):e[n++]=r,r.w&=~Mt,r.n&=~Mt}e.length=n}},co=new WeakMap;let ps=0,Mt=1;const lo=30,gs=[];let Jt;const Zt=Symbol(""),uo=Symbol("");class ho{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],_p(this,s)}run(){if(!this.active)return this.fn();if(!gs.includes(this))try{return gs.push(Jt=this),Sp(),Mt=1<<++ps,ps<=lo?Ap(this):Zc(this),this.fn()}finally{ps<=lo&&Cp(this),Mt=1<<--ps,en(),gs.pop();const e=gs.length;Jt=e>0?gs[e-1]:void 0}}stop(){this.active&&(Zc(this),this.onStop&&this.onStop(),this.active=!1)}}function Zc(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let xn=!0;const fo=[];function kn(){fo.push(xn),xn=!1}function Sp(){fo.push(xn),xn=!0}function en(){const t=fo.pop();xn=t===void 0?!0:t}function st(t,e,n){if(!el())return;let s=co.get(t);s||co.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=ao()),tl(r)}function el(){return xn&&Jt!==void 0}function tl(t,e){let n=!1;ps<=lo?Jc(t)||(t.n|=Mt,n=!Xc(t)):n=!t.has(Jt),n&&(t.add(Jt),Jt.deps.push(t))}function Rt(t,e,n,s,r,i){const o=co.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&j(t))o.forEach((c,l)=>{(l==="length"||l>=s)&&a.push(c)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":j(t)?ro(n)&&a.push(o.get("length")):(a.push(o.get(Zt)),Nn(t)&&a.push(o.get(uo)));break;case"delete":j(t)||(a.push(o.get(Zt)),Nn(t)&&a.push(o.get(uo)));break;case"set":Nn(t)&&a.push(o.get(Zt));break}if(a.length===1)a[0]&&po(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);po(ao(c))}}function po(t,e){for(const n of j(t)?t:[...t])(n!==Jt||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const Np=Ji("__proto__,__v_isRef,__isVue"),nl=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(so)),Rp=go(),Dp=go(!1,!0),xp=go(!0),sl=kp();function kp(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=se(this);for(let i=0,o=this.length;i<o;i++)st(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(se)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){kn();const s=se(this)[e].apply(this,n);return en(),s}}),t}function go(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_raw"&&i===(t?e?Wp:fl:e?hl:ul).get(s))return s;const o=j(s);if(!t&&o&&ne(sl,r))return Reflect.get(sl,r,i);const a=Reflect.get(s,r,i);return(so(r)?nl.has(r):Np(r))||(t||st(s,"get",r),e)?a:Je(a)?!o||!ro(r)?a.value:a:Ae(a)?t?dl(a):ms(a):a}}const Op=rl(),Pp=rl(!0);function rl(t=!1){return function(n,s,r,i){let o=n[s];if(!t&&(r=se(r),o=se(o),!j(n)&&Je(o)&&!Je(r)))return o.value=r,!0;const a=j(n)&&ro(s)?Number(s)<n.length:ne(n,s),c=Reflect.set(n,s,r,i);return n===se(i)&&(a?ds(r,o)&&Rt(n,"set",s,r):Rt(n,"add",s,r)),c}}function Mp(t,e){const n=ne(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&Rt(t,"delete",e,void 0),s}function Lp(t,e){const n=Reflect.has(t,e);return(!so(e)||!nl.has(e))&&st(t,"has",e),n}function Fp(t){return st(t,"iterate",j(t)?"length":Zt),Reflect.ownKeys(t)}const il={get:Rp,set:Op,deleteProperty:Mp,has:Lp,ownKeys:Fp},Vp={get:xp,set(t,e){return!0},deleteProperty(t,e){return!0}},Up=xe({},il,{get:Dp,set:Pp}),mo=t=>t,br=t=>Reflect.getPrototypeOf(t);function Ir(t,e,n=!1,s=!1){t=t.__v_raw;const r=se(t),i=se(e);e!==i&&!n&&st(r,"get",e),!n&&st(r,"get",i);const{has:o}=br(r),a=s?mo:n?wo:ys;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function _r(t,e=!1){const n=this.__v_raw,s=se(n),r=se(t);return t!==r&&!e&&st(s,"has",t),!e&&st(s,"has",r),t===r?n.has(t):n.has(t)||n.has(r)}function Ar(t,e=!1){return t=t.__v_raw,!e&&st(se(t),"iterate",Zt),Reflect.get(t,"size",t)}function ol(t){t=se(t);const e=se(this);return br(e).has.call(e,t)||(e.add(t),Rt(e,"add",t,t)),this}function al(t,e){e=se(e);const n=se(this),{has:s,get:r}=br(n);let i=s.call(n,t);i||(t=se(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?ds(e,o)&&Rt(n,"set",t,e):Rt(n,"add",t,e),this}function cl(t){const e=se(this),{has:n,get:s}=br(e);let r=n.call(e,t);r||(t=se(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&Rt(e,"delete",t,void 0),i}function ll(){const t=se(this),e=t.size!==0,n=t.clear();return e&&Rt(t,"clear",void 0,void 0),n}function Cr(t,e){return function(s,r){const i=this,o=i.__v_raw,a=se(o),c=e?mo:t?wo:ys;return!t&&st(a,"iterate",Zt),o.forEach((l,u)=>s.call(r,c(l),c(u),i))}}function Sr(t,e,n){return function(...s){const r=this.__v_raw,i=se(r),o=Nn(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=r[t](...s),u=n?mo:e?wo:ys;return!e&&st(i,"iterate",c?uo:Zt),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Lt(t){return function(...e){return t==="delete"?!1:this}}function $p(){const t={get(i){return Ir(this,i)},get size(){return Ar(this)},has:_r,add:ol,set:al,delete:cl,clear:ll,forEach:Cr(!1,!1)},e={get(i){return Ir(this,i,!1,!0)},get size(){return Ar(this)},has:_r,add:ol,set:al,delete:cl,clear:ll,forEach:Cr(!1,!0)},n={get(i){return Ir(this,i,!0)},get size(){return Ar(this,!0)},has(i){return _r.call(this,i,!0)},add:Lt("add"),set:Lt("set"),delete:Lt("delete"),clear:Lt("clear"),forEach:Cr(!0,!1)},s={get(i){return Ir(this,i,!0,!0)},get size(){return Ar(this,!0)},has(i){return _r.call(this,i,!0)},add:Lt("add"),set:Lt("set"),delete:Lt("delete"),clear:Lt("clear"),forEach:Cr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Sr(i,!1,!1),n[i]=Sr(i,!0,!1),e[i]=Sr(i,!1,!0),s[i]=Sr(i,!0,!0)}),[t,n,e,s]}const[Bp,jp,qp,Hp]=$p();function yo(t,e){const n=e?t?Hp:qp:t?jp:Bp;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(ne(n,r)&&r in s?n:s,r,i)}const Kp={get:yo(!1,!1)},zp={get:yo(!1,!0)},Gp={get:yo(!0,!1)},ul=new WeakMap,hl=new WeakMap,fl=new WeakMap,Wp=new WeakMap;function Qp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yp(t){return t.__v_skip||!Object.isExtensible(t)?0:Qp(wp(t))}function ms(t){return t&&t.__v_isReadonly?t:vo(t,!1,il,Kp,ul)}function Xp(t){return vo(t,!1,Up,zp,hl)}function dl(t){return vo(t,!0,Vp,Gp,fl)}function vo(t,e,n,s,r){if(!Ae(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Yp(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function On(t){return pl(t)?On(t.__v_raw):!!(t&&t.__v_isReactive)}function pl(t){return!!(t&&t.__v_isReadonly)}function gl(t){return On(t)||pl(t)}function se(t){const e=t&&t.__v_raw;return e?se(e):t}function ml(t){return Er(t,"__v_skip",!0),t}const ys=t=>Ae(t)?ms(t):t,wo=t=>Ae(t)?dl(t):t;function yl(t){el()&&(t=se(t),t.dep||(t.dep=ao()),tl(t.dep))}function vl(t,e){t=se(t),t.dep&&po(t.dep)}function Je(t){return Boolean(t&&t.__v_isRef===!0)}function Jp(t){return wl(t,!1)}function Zp(t){return wl(t,!0)}function wl(t,e){return Je(t)?t:new eg(t,e)}class eg{constructor(e,n){this._shallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:se(e),this._value=n?e:ys(e)}get value(){return yl(this),this._value}set value(e){e=this._shallow?e:se(e),ds(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:ys(e),vl(this))}}function vs(t){return Je(t)?t.value:t}const tg={get:(t,e,n)=>vs(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Je(r)&&!Je(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function El(t){return On(t)?t:new Proxy(t,tg)}class ng{constructor(e,n,s){this._setter=n,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new ho(e,()=>{this._dirty||(this._dirty=!0,vl(this))}),this.__v_isReadonly=s}get value(){const e=se(this);return yl(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Tt(t,e){let n,s;const r=Y(t);return r?(n=t,s=mt):(n=t.get,s=t.set),new ng(n,s,r||!s)}Promise.resolve();function sg(t,e,...n){const s=t.vnode.props||ue;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||ue;f?r=n.map(g=>g.trim()):h&&(r=n.map(oo))}let a,c=s[a=io(e)]||s[a=io(Et(e))];!c&&i&&(c=s[a=io(Dn(e))]),c&&dt(c,t,6,r);const l=s[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,dt(l,t,6,r)}}function Tl(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!Y(t)){const c=l=>{const u=Tl(l,e,!0);u&&(a=!0,xe(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(s.set(t,null),null):(j(i)?i.forEach(c=>o[c]=null):xe(o,i),s.set(t,o),o)}function Eo(t,e){return!t||!pr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ne(t,e[0].toLowerCase()+e.slice(1))||ne(t,Dn(e))||ne(t,e))}let ht=null,bl=null;function Nr(t){const e=ht;return ht=t,bl=t&&t.type.__scopeId||null,e}function rg(t,e=ht,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Yl(-1);const i=Nr(e),o=t(...r);return Nr(i),s._d&&Yl(1),o};return s._n=!0,s._c=!0,s._d=!0,s}function To(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:f,setupState:g,ctx:y,inheritAttrs:R}=t;let I,N;const $=Nr(t);try{if(n.shapeFlag&4){const W=r||s;I=_t(u.call(W,W,h,i,g,f,y)),N=c}else{const W=e;I=_t(W.length>1?W(i,{attrs:c,slots:a,emit:l}):W(i,null)),N=e.props?c:ig(c)}}catch(W){Ts.length=0,Vr(W,t,1),I=Ze(It)}let G=I;if(N&&R!==!1){const W=Object.keys(N),{shapeFlag:ge}=G;W.length&&ge&(1|6)&&(o&&W.some(no)&&(N=og(N,o)),G=Pn(G,N))}return n.dirs&&(G.dirs=G.dirs?G.dirs.concat(n.dirs):n.dirs),n.transition&&(G.transition=n.transition),I=G,Nr($),I}const ig=t=>{let e;for(const n in t)(n==="class"||n==="style"||pr(n))&&((e||(e={}))[n]=t[n]);return e},og=(t,e)=>{const n={};for(const s in t)(!no(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function ag(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Il(s,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!Eo(l,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Il(s,o,l):!0:!!o;return!1}function Il(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Eo(n,i))return!0}return!1}function cg({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const lg=t=>t.__isSuspense;function ug(t,e){e&&e.pendingBranch?j(t)?e.effects.push(...t):e.effects.push(t):am(t)}function Rr(t,e){if(ke){let n=ke.provides;const s=ke.parent&&ke.parent.provides;s===n&&(n=ke.provides=Object.create(s)),n[t]=e}}function Ft(t,e,n=!1){const s=ke||ht;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Y(e)?e.call(s.proxy):e}}function _l(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Rl(()=>{t.isMounted=!0}),xl(()=>{t.isUnmounting=!0}),t}const ft=[Function,Array],hg={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ft,onEnter:ft,onAfterEnter:ft,onEnterCancelled:ft,onBeforeLeave:ft,onLeave:ft,onAfterLeave:ft,onLeaveCancelled:ft,onBeforeAppear:ft,onAppear:ft,onAfterAppear:ft,onAppearCancelled:ft},setup(t,{slots:e}){const n=eu(),s=_l();let r;return()=>{const i=e.default&&Io(e.default(),!0);if(!i||!i.length)return;const o=se(t),{mode:a}=o,c=i[0];if(s.isLeaving)return bo(c);const l=Cl(c);if(!l)return bo(c);const u=ws(l,o,s,n);Es(l,u);const h=n.subTree,f=h&&Cl(h);let g=!1;const{getTransitionKey:y}=l.type;if(y){const R=y();r===void 0?r=R:R!==r&&(r=R,g=!0)}if(f&&f.type!==It&&(!rn(l,f)||g)){const R=ws(f,o,s,n);if(Es(f,R),a==="out-in")return s.isLeaving=!0,R.afterLeave=()=>{s.isLeaving=!1,n.update()},bo(c);a==="in-out"&&l.type!==It&&(R.delayLeave=(I,N,$)=>{const G=Al(s,f);G[String(f.key)]=f,I._leaveCb=()=>{N(),I._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=$})}return c}}},fg=hg;function Al(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function ws(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:R,onAppear:I,onAfterAppear:N,onAppearCancelled:$}=e,G=String(t.key),W=Al(n,t),ge=(J,Ce)=>{J&&dt(J,s,9,Ce)},be={mode:i,persisted:o,beforeEnter(J){let Ce=a;if(!n.isMounted)if(r)Ce=R||a;else return;J._leaveCb&&J._leaveCb(!0);const fe=W[G];fe&&rn(t,fe)&&fe.el._leaveCb&&fe.el._leaveCb(),ge(Ce,[J])},enter(J){let Ce=c,fe=l,Le=u;if(!n.isMounted)if(r)Ce=I||c,fe=N||l,Le=$||u;else return;let De=!1;const L=J._enterCb=Ie=>{De||(De=!0,Ie?ge(Le,[J]):ge(fe,[J]),be.delayedLeave&&be.delayedLeave(),J._enterCb=void 0)};Ce?(Ce(J,L),Ce.length<=1&&L()):L()},leave(J,Ce){const fe=String(t.key);if(J._enterCb&&J._enterCb(!0),n.isUnmounting)return Ce();ge(h,[J]);let Le=!1;const De=J._leaveCb=L=>{Le||(Le=!0,Ce(),L?ge(y,[J]):ge(g,[J]),J._leaveCb=void 0,W[fe]===t&&delete W[fe])};W[fe]=t,f?(f(J,De),f.length<=1&&De()):De()},clone(J){return ws(J,e,n,s)}};return be}function bo(t){if(Dr(t))return t=Pn(t),t.children=null,t}function Cl(t){return Dr(t)?t.children?t.children[0]:void 0:t}function Es(t,e){t.shapeFlag&6&&t.component?Es(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Io(t,e=!1){let n=[],s=0;for(let r=0;r<t.length;r++){const i=t[r];i.type===yt?(i.patchFlag&128&&s++,n=n.concat(Io(i.children,e))):(e||i.type!==It)&&n.push(i)}if(s>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function Sl(t){return Y(t)?{setup:t,name:t.name}:t}const _o=t=>!!t.type.__asyncLoader,Dr=t=>t.type.__isKeepAlive;function dg(t,e){Nl(t,"a",e)}function pg(t,e){Nl(t,"da",e)}function Nl(t,e,n=ke){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}t()});if(xr(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Dr(r.parent.vnode)&&gg(s,e,n,r),r=r.parent}}function gg(t,e,n,s){const r=xr(e,t,s,!0);kl(()=>{Kc(s[e],r)},n)}function xr(t,e,n=ke,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;kn(),Mn(n);const a=dt(e,n,t,o);return on(),en(),a});return s?r.unshift(i):r.push(i),i}}const Dt=t=>(e,n=ke)=>(!Fr||t==="sp")&&xr(t,e,n),mg=Dt("bm"),Rl=Dt("m"),yg=Dt("bu"),Dl=Dt("u"),xl=Dt("bum"),kl=Dt("um"),vg=Dt("sp"),wg=Dt("rtg"),Eg=Dt("rtc");function Tg(t,e=ke){xr("ec",t,e)}let Ao=!0;function bg(t){const e=Ml(t),n=t.proxy,s=t.ctx;Ao=!1,e.beforeCreate&&Ol(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:y,activated:R,deactivated:I,beforeDestroy:N,beforeUnmount:$,destroyed:G,unmounted:W,render:ge,renderTracked:be,renderTriggered:J,errorCaptured:Ce,serverPrefetch:fe,expose:Le,inheritAttrs:De,components:L,directives:Ie,filters:Xe}=e;if(l&&Ig(l,s,null,t.appContext.config.unwrapInjectedRef),o)for(const de in o){const ae=o[de];Y(ae)&&(s[de]=ae.bind(n))}if(r){const de=r.call(n,n);Ae(de)&&(t.data=ms(de))}if(Ao=!0,i)for(const de in i){const ae=i[de],lt=Y(ae)?ae.bind(n,n):Y(ae.get)?ae.get.bind(n,n):mt,An=!Y(ae)&&Y(ae.set)?ae.set.bind(n):mt,Nt=Tt({get:lt,set:An});Object.defineProperty(s,de,{enumerable:!0,configurable:!0,get:()=>Nt.value,set:vt=>Nt.value=vt})}if(a)for(const de in a)Pl(a[de],s,n,de);if(c){const de=Y(c)?c.call(n):c;Reflect.ownKeys(de).forEach(ae=>{Rr(ae,de[ae])})}u&&Ol(u,t,"c");function _e(de,ae){j(ae)?ae.forEach(lt=>de(lt.bind(n))):ae&&de(ae.bind(n))}if(_e(mg,h),_e(Rl,f),_e(yg,g),_e(Dl,y),_e(dg,R),_e(pg,I),_e(Tg,Ce),_e(Eg,be),_e(wg,J),_e(xl,$),_e(kl,W),_e(vg,fe),j(Le))if(Le.length){const de=t.exposed||(t.exposed={});Le.forEach(ae=>{Object.defineProperty(de,ae,{get:()=>n[ae],set:lt=>n[ae]=lt})})}else t.exposed||(t.exposed={});ge&&t.render===mt&&(t.render=ge),De!=null&&(t.inheritAttrs=De),L&&(t.components=L),Ie&&(t.directives=Ie)}function Ig(t,e,n=mt,s=!1){j(t)&&(t=Co(t));for(const r in t){const i=t[r];let o;Ae(i)?"default"in i?o=Ft(i.from||r,i.default,!0):o=Ft(i.from||r):o=Ft(i),Je(o)&&s?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function Ol(t,e,n){dt(j(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Pl(t,e,n,s){const r=s.includes(".")?pu(n,s):()=>n[s];if(Fe(t)){const i=e[t];Y(i)&&$r(r,i)}else if(Y(t))$r(r,t.bind(n));else if(Ae(t))if(j(t))t.forEach(i=>Pl(i,e,n,s));else{const i=Y(t.handler)?t.handler.bind(n):e[t.handler];Y(i)&&$r(r,i,t)}}function Ml(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(l=>kr(c,l,o,!0)),kr(c,e,o)),i.set(e,c),c}function kr(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&kr(t,i,n,!0),r&&r.forEach(o=>kr(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=_g[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const _g={data:Ll,props:tn,emits:tn,methods:tn,computed:tn,beforeCreate:Ke,created:Ke,beforeMount:Ke,mounted:Ke,beforeUpdate:Ke,updated:Ke,beforeDestroy:Ke,beforeUnmount:Ke,destroyed:Ke,unmounted:Ke,activated:Ke,deactivated:Ke,errorCaptured:Ke,serverPrefetch:Ke,components:tn,directives:tn,watch:Cg,provide:Ll,inject:Ag};function Ll(t,e){return e?t?function(){return xe(Y(t)?t.call(this,this):t,Y(e)?e.call(this,this):e)}:e:t}function Ag(t,e){return tn(Co(t),Co(e))}function Co(t){if(j(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ke(t,e){return t?[...new Set([].concat(t,e))]:e}function tn(t,e){return t?xe(xe(Object.create(null),t),e):e}function Cg(t,e){if(!t)return e;if(!e)return t;const n=xe(Object.create(null),t);for(const s in e)n[s]=Ke(t[s],e[s]);return n}function Sg(t,e,n,s=!1){const r={},i={};Er(i,Pr,1),t.propsDefaults=Object.create(null),Fl(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Xp(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Ng(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=se(r),[c]=t.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];const g=e[f];if(c)if(ne(i,f))g!==i[f]&&(i[f]=g,l=!0);else{const y=Et(f);r[y]=So(c,a,y,g,t,!1)}else g!==i[f]&&(i[f]=g,l=!0)}}}else{Fl(t,e,r,i)&&(l=!0);let u;for(const h in a)(!e||!ne(e,h)&&((u=Dn(h))===h||!ne(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=So(c,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!ne(e,h))&&(delete i[h],l=!0)}l&&Rt(t,"set","$attrs")}function Fl(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(mr(c))continue;const l=e[c];let u;r&&ne(r,u=Et(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:Eo(t.emitsOptions,c)||l!==s[c]&&(s[c]=l,o=!0)}if(i){const c=se(n),l=a||ue;for(let u=0;u<i.length;u++){const h=i[u];n[h]=So(r,c,h,l[h],t,!ne(l,h))}}return o}function So(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=ne(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&Y(c)){const{propsDefaults:l}=r;n in l?s=l[n]:(Mn(r),s=l[n]=c.call(null,e),on())}else s=c}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Dn(n))&&(s=!0))}return s}function Vl(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let c=!1;if(!Y(t)){const u=h=>{c=!0;const[f,g]=Vl(h,e,!0);xe(o,f),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return s.set(t,Sn),Sn;if(j(i))for(let u=0;u<i.length;u++){const h=Et(i[u]);Ul(h)&&(o[h]=ue)}else if(i)for(const u in i){const h=Et(u);if(Ul(h)){const f=i[u],g=o[h]=j(f)||Y(f)?{type:f}:f;if(g){const y=jl(Boolean,g.type),R=jl(String,g.type);g[0]=y>-1,g[1]=R<0||y<R,(y>-1||ne(g,"default"))&&a.push(h)}}}const l=[o,a];return s.set(t,l),l}function Ul(t){return t[0]!=="$"}function $l(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Bl(t,e){return $l(t)===$l(e)}function jl(t,e){return j(e)?e.findIndex(n=>Bl(n,t)):Y(e)&&Bl(e,t)?0:-1}const ql=t=>t[0]==="_"||t==="$stable",No=t=>j(t)?t.map(_t):[_t(t)],Rg=(t,e,n)=>{const s=rg((...r)=>No(e(...r)),n);return s._c=!1,s},Hl=(t,e,n)=>{const s=t._ctx;for(const r in t){if(ql(r))continue;const i=t[r];if(Y(i))e[r]=Rg(r,i,s);else if(i!=null){const o=No(i);e[r]=()=>o}}},Kl=(t,e)=>{const n=No(e);t.slots.default=()=>n},Dg=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=se(e),Er(e,"_",n)):Hl(e,t.slots={})}else t.slots={},e&&Kl(t,e);Er(t.slots,Pr,1)},xg=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=ue;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(xe(r,e),!n&&a===1&&delete r._):(i=!e.$stable,Hl(e,r)),o=e}else e&&(Kl(t,e),o={default:1});if(i)for(const a in r)!ql(a)&&!(a in o)&&delete r[a]};function NT(t,e){const n=ht;if(n===null)return t;const s=n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,l=ue]=e[i];Y(o)&&(o={mounted:o,updated:o}),o.deep&&an(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:c,modifiers:l})}return t}function nn(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(kn(),dt(c,n,8,[t.el,a,t,e]),en())}}function zl(){return{app:null,config:{isNativeTag:mp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kg=0;function Og(t,e){return function(s,r=null){r!=null&&!Ae(r)&&(r=null);const i=zl(),o=new Set;let a=!1;const c=i.app={_uid:kg++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:lm,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&Y(l.install)?(o.add(l),l.install(c,...u)):Y(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const f=Ze(s,r);return f.appContext=i,u&&e?e(f,l):t(f,l,h),a=!0,c._container=l,l.__vue_app__=c,Mo(f.component)||f.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c}};return c}}const ze=ug;function Pg(t){return Mg(t)}function Mg(t,e){const n=bp();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=mt,cloneNode:y,insertStaticContent:R}=t,I=(d,p,m,E=null,w=null,C=null,D=!1,_=null,A=!!p.dynamicChildren)=>{if(d===p)return;d&&!rn(d,p)&&(E=F(d),ut(d,w,C,!0),d=null),p.patchFlag===-2&&(A=!1,p.dynamicChildren=null);const{type:b,ref:V,shapeFlag:O}=p;switch(b){case Do:N(d,p,m,E);break;case It:$(d,p,m,E);break;case xo:d==null&&G(p,m,E,D);break;case yt:Ie(d,p,m,E,w,C,D,_,A);break;default:O&1?be(d,p,m,E,w,C,D,_,A):O&6?Xe(d,p,m,E,w,C,D,_,A):(O&64||O&128)&&b.process(d,p,m,E,w,C,D,_,A,pe)}V!=null&&w&&Ro(V,d&&d.ref,C,p||d,!p)},N=(d,p,m,E)=>{if(d==null)s(p.el=a(p.children),m,E);else{const w=p.el=d.el;p.children!==d.children&&l(w,p.children)}},$=(d,p,m,E)=>{d==null?s(p.el=c(p.children||""),m,E):p.el=d.el},G=(d,p,m,E)=>{[d.el,d.anchor]=R(d.children,p,m,E)},W=({el:d,anchor:p},m,E)=>{let w;for(;d&&d!==p;)w=f(d),s(d,m,E),d=w;s(p,m,E)},ge=({el:d,anchor:p})=>{let m;for(;d&&d!==p;)m=f(d),r(d),d=m;r(p)},be=(d,p,m,E,w,C,D,_,A)=>{D=D||p.type==="svg",d==null?J(p,m,E,w,C,D,_,A):Le(d,p,w,C,D,_,A)},J=(d,p,m,E,w,C,D,_)=>{let A,b;const{type:V,props:O,shapeFlag:U,transition:z,patchFlag:te,dirs:ye}=d;if(d.el&&y!==void 0&&te===-1)A=d.el=y(d.el);else{if(A=d.el=o(d.type,C,O&&O.is,O),U&8?u(A,d.children):U&16&&fe(d.children,A,null,E,w,C&&V!=="foreignObject",D,_),ye&&nn(d,null,E,"created"),O){for(const me in O)me!=="value"&&!mr(me)&&i(A,me,null,O[me],C,d.children,E,w,S);"value"in O&&i(A,"value",null,O.value),(b=O.onVnodeBeforeMount)&&bt(b,E,d)}Ce(A,d,d.scopeId,D,E)}ye&&nn(d,null,E,"beforeMount");const le=(!w||w&&!w.pendingBranch)&&z&&!z.persisted;le&&z.beforeEnter(A),s(A,p,m),((b=O&&O.onVnodeMounted)||le||ye)&&ze(()=>{b&&bt(b,E,d),le&&z.enter(A),ye&&nn(d,null,E,"mounted")},w)},Ce=(d,p,m,E,w)=>{if(m&&g(d,m),E)for(let C=0;C<E.length;C++)g(d,E[C]);if(w){let C=w.subTree;if(p===C){const D=w.vnode;Ce(d,D,D.scopeId,D.slotScopeIds,w.parent)}}},fe=(d,p,m,E,w,C,D,_,A=0)=>{for(let b=A;b<d.length;b++){const V=d[b]=_?Vt(d[b]):_t(d[b]);I(null,V,p,m,E,w,C,D,_)}},Le=(d,p,m,E,w,C,D)=>{const _=p.el=d.el;let{patchFlag:A,dynamicChildren:b,dirs:V}=p;A|=d.patchFlag&16;const O=d.props||ue,U=p.props||ue;let z;(z=U.onVnodeBeforeUpdate)&&bt(z,m,p,d),V&&nn(p,d,m,"beforeUpdate");const te=w&&p.type!=="foreignObject";if(b?De(d.dynamicChildren,b,_,m,E,te,C):D||lt(d,p,_,null,m,E,te,C,!1),A>0){if(A&16)L(_,p,O,U,m,E,w);else if(A&2&&O.class!==U.class&&i(_,"class",null,U.class,w),A&4&&i(_,"style",O.style,U.style,w),A&8){const ye=p.dynamicProps;for(let le=0;le<ye.length;le++){const me=ye[le],gt=O[me],Cn=U[me];(Cn!==gt||me==="value")&&i(_,me,gt,Cn,w,d.children,m,E,S)}}A&1&&d.children!==p.children&&u(_,p.children)}else!D&&b==null&&L(_,p,O,U,m,E,w);((z=U.onVnodeUpdated)||V)&&ze(()=>{z&&bt(z,m,p,d),V&&nn(p,d,m,"updated")},E)},De=(d,p,m,E,w,C,D)=>{for(let _=0;_<p.length;_++){const A=d[_],b=p[_],V=A.el&&(A.type===yt||!rn(A,b)||A.shapeFlag&(6|64))?h(A.el):m;I(A,b,V,null,E,w,C,D,!0)}},L=(d,p,m,E,w,C,D)=>{if(m!==E){for(const _ in E){if(mr(_))continue;const A=E[_],b=m[_];A!==b&&_!=="value"&&i(d,_,b,A,D,p.children,w,C,S)}if(m!==ue)for(const _ in m)!mr(_)&&!(_ in E)&&i(d,_,m[_],null,D,p.children,w,C,S);"value"in E&&i(d,"value",m.value,E.value)}},Ie=(d,p,m,E,w,C,D,_,A)=>{const b=p.el=d?d.el:a(""),V=p.anchor=d?d.anchor:a("");let{patchFlag:O,dynamicChildren:U,slotScopeIds:z}=p;z&&(_=_?_.concat(z):z),d==null?(s(b,m,E),s(V,m,E),fe(p.children,m,V,w,C,D,_,A)):O>0&&O&64&&U&&d.dynamicChildren?(De(d.dynamicChildren,U,m,w,C,D,_),(p.key!=null||w&&p===w.subTree)&&Gl(d,p,!0)):lt(d,p,m,V,w,C,D,_,A)},Xe=(d,p,m,E,w,C,D,_,A)=>{p.slotScopeIds=_,d==null?p.shapeFlag&512?w.ctx.activate(p,m,E,D,A):St(p,m,E,w,C,D,A):_e(d,p,A)},St=(d,p,m,E,w,C,D)=>{const _=d.component=Yg(d,E,w);if(Dr(d)&&(_.ctx.renderer=pe),Xg(_),_.asyncDep){if(w&&w.registerDep(_,de),!d.el){const A=_.subTree=Ze(It);$(null,A,p,m)}return}de(_,d,p,m,w,C,D)},_e=(d,p,m)=>{const E=p.component=d.component;if(ag(d,p,m))if(E.asyncDep&&!E.asyncResolved){ae(E,p,m);return}else E.next=p,im(E.update),E.update();else p.component=d.component,p.el=d.el,E.vnode=p},de=(d,p,m,E,w,C,D)=>{const _=()=>{if(d.isMounted){let{next:V,bu:O,u:U,parent:z,vnode:te}=d,ye=V,le;A.allowRecurse=!1,V?(V.el=te.el,ae(d,V,D)):V=te,O&&wr(O),(le=V.props&&V.props.onVnodeBeforeUpdate)&&bt(le,z,V,te),A.allowRecurse=!0;const me=To(d),gt=d.subTree;d.subTree=me,I(gt,me,h(gt.el),F(gt),d,w,C),V.el=me.el,ye===null&&cg(d,me.el),U&&ze(U,w),(le=V.props&&V.props.onVnodeUpdated)&&ze(()=>bt(le,z,V,te),w)}else{let V;const{el:O,props:U}=p,{bm:z,m:te,parent:ye}=d,le=_o(p);if(A.allowRecurse=!1,z&&wr(z),!le&&(V=U&&U.onVnodeBeforeMount)&&bt(V,ye,p),A.allowRecurse=!0,O&&Q){const me=()=>{d.subTree=To(d),Q(O,d.subTree,d,w,null)};le?p.type.__asyncLoader().then(()=>!d.isUnmounted&&me()):me()}else{const me=d.subTree=To(d);I(null,me,m,E,d,w,C),p.el=me.el}if(te&&ze(te,w),!le&&(V=U&&U.onVnodeMounted)){const me=p;ze(()=>bt(V,ye,me),w)}p.shapeFlag&256&&d.a&&ze(d.a,w),d.isMounted=!0,p=m=E=null}},A=new ho(_,()=>au(d.update),d.scope),b=d.update=A.run.bind(A);b.id=d.uid,A.allowRecurse=b.allowRecurse=!0,b()},ae=(d,p,m)=>{p.component=d;const E=d.vnode.props;d.vnode=p,d.next=null,Ng(d,p.props,E,m),xg(d,p.children,m),kn(),Uo(void 0,d.update),en()},lt=(d,p,m,E,w,C,D,_,A=!1)=>{const b=d&&d.children,V=d?d.shapeFlag:0,O=p.children,{patchFlag:U,shapeFlag:z}=p;if(U>0){if(U&128){Nt(b,O,m,E,w,C,D,_,A);return}else if(U&256){An(b,O,m,E,w,C,D,_,A);return}}z&8?(V&16&&S(b,w,C),O!==b&&u(m,O)):V&16?z&16?Nt(b,O,m,E,w,C,D,_,A):S(b,w,C,!0):(V&8&&u(m,""),z&16&&fe(O,m,E,w,C,D,_,A))},An=(d,p,m,E,w,C,D,_,A)=>{d=d||Sn,p=p||Sn;const b=d.length,V=p.length,O=Math.min(b,V);let U;for(U=0;U<O;U++){const z=p[U]=A?Vt(p[U]):_t(p[U]);I(d[U],z,m,null,w,C,D,_,A)}b>V?S(d,w,C,!0,!1,O):fe(p,m,E,w,C,D,_,A,O)},Nt=(d,p,m,E,w,C,D,_,A)=>{let b=0;const V=p.length;let O=d.length-1,U=V-1;for(;b<=O&&b<=U;){const z=d[b],te=p[b]=A?Vt(p[b]):_t(p[b]);if(rn(z,te))I(z,te,m,null,w,C,D,_,A);else break;b++}for(;b<=O&&b<=U;){const z=d[O],te=p[U]=A?Vt(p[U]):_t(p[U]);if(rn(z,te))I(z,te,m,null,w,C,D,_,A);else break;O--,U--}if(b>O){if(b<=U){const z=U+1,te=z<V?p[z].el:E;for(;b<=U;)I(null,p[b]=A?Vt(p[b]):_t(p[b]),m,te,w,C,D,_,A),b++}}else if(b>U)for(;b<=O;)ut(d[b],w,C,!0),b++;else{const z=b,te=b,ye=new Map;for(b=te;b<=U;b++){const nt=p[b]=A?Vt(p[b]):_t(p[b]);nt.key!=null&&ye.set(nt.key,b)}let le,me=0;const gt=U-te+1;let Cn=!1,$c=0;const hs=new Array(gt);for(b=0;b<gt;b++)hs[b]=0;for(b=z;b<=O;b++){const nt=d[b];if(me>=gt){ut(nt,w,C,!0);continue}let wt;if(nt.key!=null)wt=ye.get(nt.key);else for(le=te;le<=U;le++)if(hs[le-te]===0&&rn(nt,p[le])){wt=le;break}wt===void 0?ut(nt,w,C,!0):(hs[wt-te]=b+1,wt>=$c?$c=wt:Cn=!0,I(nt,p[wt],m,null,w,C,D,_,A),me++)}const Bc=Cn?Lg(hs):Sn;for(le=Bc.length-1,b=gt-1;b>=0;b--){const nt=te+b,wt=p[nt],jc=nt+1<V?p[nt+1].el:E;hs[b]===0?I(null,wt,m,jc,w,C,D,_,A):Cn&&(le<0||b!==Bc[le]?vt(wt,m,jc,2):le--)}}},vt=(d,p,m,E,w=null)=>{const{el:C,type:D,transition:_,children:A,shapeFlag:b}=d;if(b&6){vt(d.component.subTree,p,m,E);return}if(b&128){d.suspense.move(p,m,E);return}if(b&64){D.move(d,p,m,pe);return}if(D===yt){s(C,p,m);for(let O=0;O<A.length;O++)vt(A[O],p,m,E);s(d.anchor,p,m);return}if(D===xo){W(d,p,m);return}if(E!==2&&b&1&&_)if(E===0)_.beforeEnter(C),s(C,p,m),ze(()=>_.enter(C),w);else{const{leave:O,delayLeave:U,afterLeave:z}=_,te=()=>s(C,p,m),ye=()=>{O(C,()=>{te(),z&&z()})};U?U(C,te,ye):ye()}else s(C,p,m)},ut=(d,p,m,E=!1,w=!1)=>{const{type:C,props:D,ref:_,children:A,dynamicChildren:b,shapeFlag:V,patchFlag:O,dirs:U}=d;if(_!=null&&Ro(_,null,m,d,!0),V&256){p.ctx.deactivate(d);return}const z=V&1&&U,te=!_o(d);let ye;if(te&&(ye=D&&D.onVnodeBeforeUnmount)&&bt(ye,p,d),V&6)P(d.component,m,E);else{if(V&128){d.suspense.unmount(m,E);return}z&&nn(d,null,p,"beforeUnmount"),V&64?d.type.remove(d,p,m,w,pe,E):b&&(C!==yt||O>0&&O&64)?S(b,p,m,!1,!0):(C===yt&&O&(128|256)||!w&&V&16)&&S(A,p,m),E&&Xi(d)}(te&&(ye=D&&D.onVnodeUnmounted)||z)&&ze(()=>{ye&&bt(ye,p,d),z&&nn(d,null,p,"unmounted")},m)},Xi=d=>{const{type:p,el:m,anchor:E,transition:w}=d;if(p===yt){v(m,E);return}if(p===xo){ge(d);return}const C=()=>{r(m),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(d.shapeFlag&1&&w&&!w.persisted){const{leave:D,delayLeave:_}=w,A=()=>D(m,C);_?_(d.el,C,A):A()}else C()},v=(d,p)=>{let m;for(;d!==p;)m=f(d),r(d),d=m;r(p)},P=(d,p,m)=>{const{bum:E,scope:w,update:C,subTree:D,um:_}=d;E&&wr(E),w.stop(),C&&(C.active=!1,ut(D,d,p,m)),_&&ze(_,p),ze(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},S=(d,p,m,E=!1,w=!1,C=0)=>{for(let D=C;D<d.length;D++)ut(d[D],p,m,E,w)},F=d=>d.shapeFlag&6?F(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),ce=(d,p,m)=>{d==null?p._vnode&&ut(p._vnode,null,null,!0):I(p._vnode||null,d,p,null,null,null,m),uu(),p._vnode=d},pe={p:I,um:ut,m:vt,r:Xi,mt:St,mc:fe,pc:lt,pbc:De,n:F,o:t};let X,Q;return e&&([X,Q]=e(pe)),{render:ce,hydrate:X,createApp:Og(ce,X)}}function Ro(t,e,n,s,r=!1){if(j(t)){t.forEach((f,g)=>Ro(f,e&&(j(e)?e[g]:e),n,s,r));return}if(_o(s)&&!r)return;const i=s.shapeFlag&4?Mo(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===ue?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(Fe(l)?(u[l]=null,ne(h,l)&&(h[l]=null)):Je(l)&&(l.value=null)),Fe(c)){const f=()=>{u[c]=o,ne(h,c)&&(h[c]=o)};o?(f.id=-1,ze(f,n)):f()}else if(Je(c)){const f=()=>{c.value=o};o?(f.id=-1,ze(f,n)):f()}else Y(c)&&Ut(c,a,12,[o,u])}function bt(t,e,n,s=null){dt(t,e,7,[n,s])}function Gl(t,e,n=!1){const s=t.children,r=e.children;if(j(s)&&j(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Vt(r[i]),a.el=o.el),n||Gl(o,a))}}function Lg(t){const e=t.slice(),n=[0];let s,r,i,o,a;const c=t.length;for(s=0;s<c;s++){const l=t[s];if(l!==0){if(r=n[n.length-1],t[r]<l){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const Fg=t=>t.__isTeleport,Wl="components";function RT(t,e){return Ug(Wl,t,!0,e)||t}const Vg=Symbol();function Ug(t,e,n=!0,s=!1){const r=ht||ke;if(r){const i=r.type;if(t===Wl){const a=tm(i);if(a&&(a===e||a===Et(e)||a===vr(Et(e))))return i}const o=Ql(r[t]||i[t],e)||Ql(r.appContext[t],e);return!o&&s?i:o}}function Ql(t,e){return t&&(t[e]||t[Et(e)]||t[vr(Et(e))])}const yt=Symbol(void 0),Do=Symbol(void 0),It=Symbol(void 0),xo=Symbol(void 0),Ts=[];let sn=null;function $g(t=!1){Ts.push(sn=t?null:[])}function Bg(){Ts.pop(),sn=Ts[Ts.length-1]||null}let Or=1;function Yl(t){Or+=t}function Xl(t){return t.dynamicChildren=Or>0?sn||Sn:null,Bg(),Or>0&&sn&&sn.push(t),t}function DT(t,e,n,s,r,i){return Xl(Zl(t,e,n,s,r,i,!0))}function jg(t,e,n,s,r){return Xl(Ze(t,e,n,s,r,!0))}function ko(t){return t?t.__v_isVNode===!0:!1}function rn(t,e){return t.type===e.type&&t.key===e.key}const Pr="__vInternal",Jl=({key:t})=>t!=null?t:null,Mr=({ref:t})=>t!=null?Fe(t)||Je(t)||Y(t)?{i:ht,r:t}:t:null;function Zl(t,e=null,n=null,s=0,r=null,i=t===yt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Jl(e),ref:e&&Mr(e),scopeId:bl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(Oo(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Fe(n)?8:16),Or>0&&!o&&sn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&sn.push(c),c}const Ze=qg;function qg(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Vg)&&(t=It),ko(t)){const a=Pn(t,e,!0);return n&&Oo(a,n),a}if(nm(t)&&(t=t.__vccOpts),e){e=Hg(e);let{class:a,style:c}=e;a&&!Fe(a)&&(e.class=eo(a)),Ae(c)&&(gl(c)&&!j(c)&&(c=xe({},c)),e.style=Zi(c))}const o=Fe(t)?1:lg(t)?128:Fg(t)?64:Ae(t)?4:Y(t)?2:0;return Zl(t,e,n,s,r,o,i,!0)}function Hg(t){return t?gl(t)||Pr in t?xe({},t):t:null}function Pn(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?zg(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Jl(a),ref:e&&e.ref?n&&r?j(r)?r.concat(Mr(e)):[r,Mr(e)]:Mr(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==yt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Pn(t.ssContent),ssFallback:t.ssFallback&&Pn(t.ssFallback),el:t.el,anchor:t.anchor}}function Kg(t=" ",e=0){return Ze(Do,null,t,e)}function xT(t="",e=!1){return e?($g(),jg(It,null,t)):Ze(It,null,t)}function _t(t){return t==null||typeof t=="boolean"?Ze(It):j(t)?Ze(yt,null,t.slice()):typeof t=="object"?Vt(t):Ze(Do,null,String(t))}function Vt(t){return t.el===null||t.memo?t:Pn(t)}function Oo(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(j(e))n=16;else if(typeof e=="object")if(s&(1|64)){const r=e.default;r&&(r._c&&(r._d=!1),Oo(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Pr in e)?e._ctx=ht:r===3&&ht&&(ht.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Y(e)?(e={default:e,_ctx:ht},n=32):(e=String(e),s&64?(n=16,e=[Kg(e)]):n=8);t.children=e,t.shapeFlag|=n}function zg(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=eo([e.class,s.class]));else if(r==="style")e.style=Zi([e.style,s.style]);else if(pr(r)){const i=e[r],o=s[r];i!==o&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function kT(t,e,n,s){let r;const i=n&&n[s];if(j(t)||Fe(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(Ae(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];r[a]=e(t[l],l,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}const Po=t=>t?tu(t)?Mo(t)||t.proxy:Po(t.parent):null,Lr=xe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Po(t.parent),$root:t=>Po(t.root),$emit:t=>t.emit,$options:t=>Ml(t),$forceUpdate:t=>()=>au(t.update),$nextTick:t=>ou.bind(t.proxy),$watch:t=>cm.bind(t)}),Gg={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 0:return s[e];case 1:return r[e];case 3:return n[e];case 2:return i[e]}else{if(s!==ue&&ne(s,e))return o[e]=0,s[e];if(r!==ue&&ne(r,e))return o[e]=1,r[e];if((l=t.propsOptions[0])&&ne(l,e))return o[e]=2,i[e];if(n!==ue&&ne(n,e))return o[e]=3,n[e];Ao&&(o[e]=4)}}const u=Lr[e];let h,f;if(u)return e==="$attrs"&&st(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==ue&&ne(n,e))return o[e]=3,n[e];if(f=c.config.globalProperties,ne(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;if(r!==ue&&ne(r,e))r[e]=n;else if(s!==ue&&ne(s,e))s[e]=n;else if(ne(t.props,e))return!1;return e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return n[o]!==void 0||t!==ue&&ne(t,o)||e!==ue&&ne(e,o)||(a=i[0])&&ne(a,o)||ne(s,o)||ne(Lr,o)||ne(r.config.globalProperties,o)}},Wg=zl();let Qg=0;function Yg(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Wg,i={uid:Qg++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,update:null,scope:new Ip(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vl(s,r),emitsOptions:Tl(s,r),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:s.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=sg.bind(null,i),t.ce&&t.ce(i),i}let ke=null;const eu=()=>ke||ht,Mn=t=>{ke=t,t.scope.on()},on=()=>{ke&&ke.scope.off(),ke=null};function tu(t){return t.vnode.shapeFlag&4}let Fr=!1;function Xg(t,e=!1){Fr=e;const{props:n,children:s}=t.vnode,r=tu(t);Sg(t,n,r,e),Dg(t,s);const i=r?Jg(t,e):void 0;return Fr=!1,i}function Jg(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ml(new Proxy(t.ctx,Gg));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?em(t):null;Mn(t),kn();const i=Ut(s,t,0,[t.props,r]);if(en(),on(),Gc(i)){if(i.then(on,on),e)return i.then(o=>{nu(t,o,e)}).catch(o=>{Vr(o,t,0)});t.asyncDep=i}else nu(t,i,e)}else ru(t,e)}function nu(t,e,n){Y(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ae(e)&&(t.setupState=El(e)),ru(t,n)}let su;function ru(t,e,n){const s=t.type;if(!t.render){if(!e&&su&&!s.render){const r=s.template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=s,l=xe(xe({isCustomElement:i,delimiters:a},o),c);s.render=su(r,l)}}t.render=s.render||mt}Mn(t),kn(),bg(t),en(),on()}function Zg(t){return new Proxy(t.attrs,{get(e,n){return st(t,"get","$attrs"),e[n]}})}function em(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=Zg(t))},slots:t.slots,emit:t.emit,expose:e}}function Mo(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(El(ml(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Lr)return Lr[n](t)}}))}function tm(t){return Y(t)&&t.displayName||t.name}function nm(t){return Y(t)&&"__vccOpts"in t}function Ut(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){Vr(i,e,n)}return r}function dt(t,e,n,s){if(Y(t)){const i=Ut(t,e,n,s);return i&&Gc(i)&&i.catch(o=>{Vr(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(dt(t[i],e,n,s));return r}function Vr(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Ut(c,null,10,[t,o,a]);return}}sm(t,n,r,s)}function sm(t,e,n,s=!0){console.error(t)}let Ur=!1,Lo=!1;const rt=[];let xt=0;const bs=[];let Is=null,Ln=0;const _s=[];let $t=null,Fn=0;const iu=Promise.resolve();let Fo=null,Vo=null;function ou(t){const e=Fo||iu;return t?e.then(this?t.bind(this):t):e}function rm(t){let e=xt+1,n=rt.length;for(;e<n;){const s=e+n>>>1;As(rt[s])<t?e=s+1:n=s}return e}function au(t){(!rt.length||!rt.includes(t,Ur&&t.allowRecurse?xt+1:xt))&&t!==Vo&&(t.id==null?rt.push(t):rt.splice(rm(t.id),0,t),cu())}function cu(){!Ur&&!Lo&&(Lo=!0,Fo=iu.then(hu))}function im(t){const e=rt.indexOf(t);e>xt&&rt.splice(e,1)}function lu(t,e,n,s){j(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?s+1:s))&&n.push(t),cu()}function om(t){lu(t,Is,bs,Ln)}function am(t){lu(t,$t,_s,Fn)}function Uo(t,e=null){if(bs.length){for(Vo=e,Is=[...new Set(bs)],bs.length=0,Ln=0;Ln<Is.length;Ln++)Is[Ln]();Is=null,Ln=0,Vo=null,Uo(t,e)}}function uu(t){if(_s.length){const e=[...new Set(_s)];if(_s.length=0,$t){$t.push(...e);return}for($t=e,$t.sort((n,s)=>As(n)-As(s)),Fn=0;Fn<$t.length;Fn++)$t[Fn]();$t=null,Fn=0}}const As=t=>t.id==null?1/0:t.id;function hu(t){Lo=!1,Ur=!0,Uo(t),rt.sort((n,s)=>As(n)-As(s));const e=mt;try{for(xt=0;xt<rt.length;xt++){const n=rt[xt];n&&n.active!==!1&&Ut(n,null,14)}}finally{xt=0,rt.length=0,uu(),Ur=!1,Fo=null,(rt.length||bs.length||_s.length)&&hu(t)}}const fu={};function $r(t,e,n){return du(t,e,n)}function du(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=ue){const a=ke;let c,l=!1,u=!1;if(Je(t)?(c=()=>t.value,l=!!t._shallow):On(t)?(c=()=>t,s=!0):j(t)?(u=!0,l=t.some(On),c=()=>t.map(N=>{if(Je(N))return N.value;if(On(N))return an(N);if(Y(N))return Ut(N,a,2)})):Y(t)?e?c=()=>Ut(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),dt(t,a,3,[f])}:c=mt,e&&s){const N=c;c=()=>an(N())}let h,f=N=>{h=I.onStop=()=>{Ut(N,a,4)}};if(Fr)return f=mt,e?n&&dt(e,a,3,[c(),u?[]:void 0,f]):c(),mt;let g=u?[]:fu;const y=()=>{if(!!I.active)if(e){const N=I.run();(s||l||(u?N.some(($,G)=>ds($,g[G])):ds(N,g)))&&(h&&h(),dt(e,a,3,[N,g===fu?void 0:g,f]),g=N)}else I.run()};y.allowRecurse=!!e;let R;r==="sync"?R=y:r==="post"?R=()=>ze(y,a&&a.suspense):R=()=>{!a||a.isMounted?om(y):y()};const I=new ho(c,R);return e?n?y():g=I.run():r==="post"?ze(I.run.bind(I),a&&a.suspense):I.run(),()=>{I.stop(),a&&a.scope&&Kc(a.scope.effects,I)}}function cm(t,e,n){const s=this.proxy,r=Fe(t)?t.includes(".")?pu(s,t):()=>s[t]:t.bind(s,s);let i;Y(e)?i=e:(i=e.handler,n=e);const o=ke;Mn(this);const a=du(r,i.bind(s),n);return o?Mn(o):on(),a}function pu(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function an(t,e){if(!Ae(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Je(t))an(t.value,e);else if(j(t))for(let n=0;n<t.length;n++)an(t[n],e);else if(Rn(t)||Nn(t))t.forEach(n=>{an(n,e)});else if(Qc(t))for(const n in t)an(t[n],e);return t}function gu(t,e,n){const s=arguments.length;return s===2?Ae(e)&&!j(e)?ko(e)?Ze(t,null,[e]):Ze(t,e):Ze(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ko(n)&&(n=[n]),Ze(t,e,n))}const lm="3.2.20",um="http://www.w3.org/2000/svg",Vn=typeof document!="undefined"?document:null,mu=new Map,hm={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?Vn.createElementNS(um,t):Vn.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Vn.createTextNode(t),createComment:t=>Vn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Vn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,s){const r=n?n.previousSibling:e.lastChild;let i=mu.get(t);if(!i){const o=Vn.createElement("template");if(o.innerHTML=s?`<svg>${t}</svg>`:t,i=o.content,s){const a=i.firstChild;for(;a.firstChild;)i.appendChild(a.firstChild);i.removeChild(a)}mu.set(t,i)}return e.insertBefore(i.cloneNode(!0),n),[r?r.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function fm(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function dm(t,e,n){const s=t.style,r=s.display;if(!n)t.removeAttribute("style");else if(Fe(n))e!==n&&(s.cssText=n);else{for(const i in n)$o(s,i,n[i]);if(e&&!Fe(e))for(const i in e)n[i]==null&&$o(s,i,"")}"_vod"in t&&(s.display=r)}const yu=/\s*!important$/;function $o(t,e,n){if(j(n))n.forEach(s=>$o(t,e,s));else if(e.startsWith("--"))t.setProperty(e,n);else{const s=pm(t,e);yu.test(n)?t.setProperty(Dn(s),n.replace(yu,""),"important"):t[s]=n}}const vu=["Webkit","Moz","ms"],Bo={};function pm(t,e){const n=Bo[e];if(n)return n;let s=Et(e);if(s!=="filter"&&s in t)return Bo[e]=s;s=vr(s);for(let r=0;r<vu.length;r++){const i=vu[r]+s;if(i in t)return Bo[e]=i}return e}const wu="http://www.w3.org/1999/xlink";function gm(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(wu,e.slice(6,e.length)):t.setAttributeNS(wu,e,n);else{const i=hp(e);n==null||i&&!qc(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function mm(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"){t._value=n;const a=n==null?"":n;t.value!==a&&(t.value=a),n==null&&t.removeAttribute(e);return}if(n===""||n==null){const a=typeof t[e];if(a==="boolean"){t[e]=qc(n);return}else if(n==null&&a==="string"){t[e]="",t.removeAttribute(e);return}else if(a==="number"){try{t[e]=0}catch(c){}t.removeAttribute(e);return}}try{t[e]=n}catch(a){}}let Br=Date.now,Eu=!1;if(typeof window!="undefined"){Br()>document.createEvent("Event").timeStamp&&(Br=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Eu=!!(t&&Number(t[1])<=53)}let jo=0;const ym=Promise.resolve(),vm=()=>{jo=0},wm=()=>jo||(ym.then(vm),jo=Br());function qo(t,e,n,s){t.addEventListener(e,n,s)}function Em(t,e,n,s){t.removeEventListener(e,n,s)}function Tm(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=bm(e);if(s){const l=i[e]=Im(s,r);qo(t,a,l,c)}else o&&(Em(t,a,o,c),i[e]=void 0)}}const Tu=/(?:Once|Passive|Capture)$/;function bm(t){let e;if(Tu.test(t)){e={};let n;for(;n=t.match(Tu);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[Dn(t.slice(2)),e]}function Im(t,e){const n=s=>{const r=s.timeStamp||Br();(Eu||r>=n.attached-1)&&dt(_m(s,n.value),e,5,[s])};return n.value=t,n.attached=wm(),n}function _m(t,e){if(j(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s(r))}else return e}const bu=/^on[a-z]/,Am=(t,e,n,s,r=!1,i,o,a,c)=>{e==="class"?fm(t,s,r):e==="style"?dm(t,n,s):pr(e)?no(e)||Tm(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Cm(t,e,s,r))?mm(t,e,s,i,o,a,c):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),gm(t,e,s,r))};function Cm(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&bu.test(e)&&Y(n)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||bu.test(e)&&Fe(n)?!1:e in t}const Bt="transition",Cs="animation",Iu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Sm=xe({},fg.props,Iu),cn=(t,e=[])=>{j(t)?t.forEach(n=>n(...e)):t&&t(...e)},_u=t=>t?j(t)?t.some(e=>e.length>1):t.length>1:!1;function Nm(t){const e={};for(const L in t)L in Iu||(e[L]=t[L]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,y=Rm(r),R=y&&y[0],I=y&&y[1],{onBeforeEnter:N,onEnter:$,onEnterCancelled:G,onLeave:W,onLeaveCancelled:ge,onBeforeAppear:be=N,onAppear:J=$,onAppearCancelled:Ce=G}=e,fe=(L,Ie,Xe)=>{ln(L,Ie?u:a),ln(L,Ie?l:o),Xe&&Xe()},Le=(L,Ie)=>{ln(L,g),ln(L,f),Ie&&Ie()},De=L=>(Ie,Xe)=>{const St=L?J:$,_e=()=>fe(Ie,L,Xe);cn(St,[Ie,_e]),Au(()=>{ln(Ie,L?c:i),kt(Ie,L?u:a),_u(St)||Cu(Ie,s,R,_e)})};return xe(e,{onBeforeEnter(L){cn(N,[L]),kt(L,i),kt(L,o)},onBeforeAppear(L){cn(be,[L]),kt(L,c),kt(L,l)},onEnter:De(!1),onAppear:De(!0),onLeave(L,Ie){const Xe=()=>Le(L,Ie);kt(L,h),Du(),kt(L,f),Au(()=>{ln(L,h),kt(L,g),_u(W)||Cu(L,s,I,Xe)}),cn(W,[L,Xe])},onEnterCancelled(L){fe(L,!1),cn(G,[L])},onAppearCancelled(L){fe(L,!0),cn(Ce,[L])},onLeaveCancelled(L){Le(L),cn(ge,[L])}})}function Rm(t){if(t==null)return null;if(Ae(t))return[Ho(t.enter),Ho(t.leave)];{const e=Ho(t);return[e,e]}}function Ho(t){return oo(t)}function kt(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function ln(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Au(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Dm=0;function Cu(t,e,n,s){const r=t._endId=++Dm,i=()=>{r===t._endId&&s()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=Su(t,e);if(!o)return s();const l=o+"end";let u=0;const h=()=>{t.removeEventListener(l,f),i()},f=g=>{g.target===t&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},a+1),t.addEventListener(l,f)}function Su(t,e){const n=window.getComputedStyle(t),s=y=>(n[y]||"").split(", "),r=s(Bt+"Delay"),i=s(Bt+"Duration"),o=Nu(r,i),a=s(Cs+"Delay"),c=s(Cs+"Duration"),l=Nu(a,c);let u=null,h=0,f=0;e===Bt?o>0&&(u=Bt,h=o,f=i.length):e===Cs?l>0&&(u=Cs,h=l,f=c.length):(h=Math.max(o,l),u=h>0?o>l?Bt:Cs:null,f=u?u===Bt?i.length:c.length:0);const g=u===Bt&&/\b(transform|all)(,|$)/.test(n[Bt+"Property"]);return{type:u,timeout:h,propCount:f,hasTransform:g}}function Nu(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Ru(n)+Ru(t[s])))}function Ru(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Du(){return document.body.offsetHeight}const xu=new WeakMap,ku=new WeakMap,xm={name:"TransitionGroup",props:xe({},Sm,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=eu(),s=_l();let r,i;return Dl(()=>{if(!r.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!Mm(r[0].el,n.vnode.el,o))return;r.forEach(km),r.forEach(Om);const a=r.filter(Pm);Du(),a.forEach(c=>{const l=c.el,u=l.style;kt(l,o),u.transform=u.webkitTransform=u.transitionDuration="";const h=l._moveCb=f=>{f&&f.target!==l||(!f||/transform$/.test(f.propertyName))&&(l.removeEventListener("transitionend",h),l._moveCb=null,ln(l,o))};l.addEventListener("transitionend",h)})}),()=>{const o=se(t),a=Nm(o);let c=o.tag||yt;r=i,i=e.default?Io(e.default()):[];for(let l=0;l<i.length;l++){const u=i[l];u.key!=null&&Es(u,ws(u,a,s,n))}if(r)for(let l=0;l<r.length;l++){const u=r[l];Es(u,ws(u,a,s,n)),xu.set(u,u.el.getBoundingClientRect())}return Ze(c,null,i)}}},OT=xm;function km(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function Om(t){ku.set(t,t.el.getBoundingClientRect())}function Pm(t){const e=xu.get(t),n=ku.get(t),s=e.left-n.left,r=e.top-n.top;if(s||r){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${r}px)`,i.transitionDuration="0s",t}}function Mm(t,e,n){const s=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&s.classList.add(o)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:i}=Su(s);return r.removeChild(s),i}const jr=t=>{const e=t.props["onUpdate:modelValue"];return j(e)?n=>wr(e,n):e},PT={deep:!0,created(t,e,n){t._assign=jr(n),qo(t,"change",()=>{const s=t._modelValue,r=Ss(t),i=t.checked,o=t._assign;if(j(s)){const a=to(s,r),c=a!==-1;if(i&&!c)o(s.concat(r));else if(!i&&c){const l=[...s];l.splice(a,1),o(l)}}else if(Rn(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(Mu(t,i))})},mounted:Ou,beforeUpdate(t,e,n){t._assign=jr(n),Ou(t,e,n)}};function Ou(t,{value:e,oldValue:n},s){t._modelValue=e,j(e)?t.checked=to(e,s.props.value)>-1:Rn(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=fs(e,Mu(t,!0)))}const MT={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=Rn(e);qo(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?oo(Ss(o)):Ss(o));t._assign(t.multiple?r?new Set(i):i:i[0])}),t._assign=jr(s)},mounted(t,{value:e}){Pu(t,e)},beforeUpdate(t,e,n){t._assign=jr(n)},updated(t,{value:e}){Pu(t,e)}};function Pu(t,e){const n=t.multiple;if(!(n&&!j(e)&&!Rn(e))){for(let s=0,r=t.options.length;s<r;s++){const i=t.options[s],o=Ss(i);if(n)j(e)?i.selected=to(e,o)>-1:i.selected=e.has(o);else if(fs(Ss(i),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ss(t){return"_value"in t?t._value:t.value}function Mu(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Lm=["ctrl","shift","alt","meta"],Fm={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Lm.some(n=>t[`${n}Key`]&&!e.includes(n))},LT=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=Fm[e[r]];if(i&&i(n,e))return}return t(n,...s)},FT={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ns(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Ns(t,!0),s.enter(t)):s.leave(t,()=>{Ns(t,!1)}):Ns(t,e))},beforeUnmount(t,{value:e}){Ns(t,e)}};function Ns(t,e){t.style.display=e?t._vod:"none"}const Vm=xe({patchProp:Am},hm);let Lu;function Um(){return Lu||(Lu=Pg(Vm))}const VT=(...t)=>{const e=Um().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=$m(s);if(!r)return;const i=e._component;!Y(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function $m(t){return Fe(t)?document.querySelector(t):t}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Bm(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(h){o(h)}}function c(u){try{l(s.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})}function jm(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,r,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,r&&(i=l[0]&2?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,r=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],r=0}finally{s=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ko(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qr(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),r,i=[],o;try{for(;(e===void 0||e-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i}function Fu(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hm(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hr())}function Km(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gm(){return Hr().indexOf("Electron/")>=0}function Wm(){const t=Hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Qm(){return Hr().indexOf("MSAppHost/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="FirebaseError";class zo extends Error{constructor(e,n,s){super(n);this.code=e,this.customData=s,this.name=Ym,Object.setPrototypeOf(this,zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?Xm(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new zo(r,a,s)}}function Xm(t,e){return t.replace(Jm,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const Jm=/\{\$([^}]+)}/g;function Go(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Uu(i)&&Uu(o)){if(!Go(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Uu(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}var Kr=function(){function t(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zm=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var s=new qm;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch(i){}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,s;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(ty(e))try{this.getOrInitializeService({instanceIdentifier:un})}catch(h){}try{for(var r=Ko(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=qr(i.value,2),a=o[0],c=o[1],l=this.normalizeInstanceIdentifier(a);try{var u=this.getOrInitializeService({instanceIdentifier:l});c.resolve(u)}catch(h){}}}catch(h){n={error:h}}finally{try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=un),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return Bm(this,void 0,void 0,function(){var e;return jm(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Fu(Fu([],qr(e.filter(function(s){return"INTERNAL"in s}).map(function(s){return s.INTERNAL.delete()}))),qr(e.filter(function(s){return"_delete"in s}).map(function(s){return s._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=un),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=un),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,s;e===void 0&&(e={});var r=e.options,i=r===void 0?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var c=Ko(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var u=qr(l.value,2),h=u[0],f=u[1],g=this.normalizeInstanceIdentifier(h);o===g&&f.resolve(a)}}catch(y){n={error:y}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(n)throw n.error}}return a},t.prototype.onInit=function(e,n){var s,r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var s,r,i=this.onInitCallbacks.get(n);if(!!i)try{for(var o=Ko(i),a=o.next();!a.done;a=o.next()){var c=a.value;try{c(e,n)}catch(l){}}}catch(l){s={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(s)throw s.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,s=e.options,r=s===void 0?{}:s,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ey(n),options:r}),this.instances.set(n,i),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(o){}return i||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=un),this.component?this.component.multipleInstances?e:un:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function ey(t){return t===un?void 0:t}function ty(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ny=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new Zm(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const sy={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},ry=ie.INFO,iy={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},oy=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=iy[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $u{constructor(e){this.name=e,this._logLevel=ry,this._logHandler=oy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cy(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wo="@firebase/app",Bu="0.7.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new $u("@firebase/app"),ly="@firebase/app-compat",uy="@firebase/analytics-compat",hy="@firebase/analytics",fy="@firebase/app-check-compat",dy="@firebase/app-check",py="@firebase/auth",gy="@firebase/auth-compat",my="@firebase/database",yy="@firebase/database-compat",vy="@firebase/functions",wy="@firebase/functions-compat",Ey="@firebase/installations",Ty="@firebase/installations-compat",by="@firebase/messaging",Iy="@firebase/messaging-compat",_y="@firebase/performance",Ay="@firebase/performance-compat",Cy="@firebase/remote-config",Sy="@firebase/remote-config-compat",Ny="@firebase/storage",Ry="@firebase/storage-compat",Dy="@firebase/firestore",xy="@firebase/firestore-compat",ky="firebase",Oy="9.1.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju="[DEFAULT]",Py={[Wo]:"fire-core",[ly]:"fire-core-compat",[hy]:"fire-analytics",[uy]:"fire-analytics-compat",[dy]:"fire-app-check",[fy]:"fire-app-check-compat",[py]:"fire-auth",[gy]:"fire-auth-compat",[my]:"fire-rtdb",[yy]:"fire-rtdb-compat",[vy]:"fire-fn",[wy]:"fire-fn-compat",[Ey]:"fire-iid",[Ty]:"fire-iid-compat",[by]:"fire-fcm",[Iy]:"fire-fcm-compat",[_y]:"fire-perf",[Ay]:"fire-perf-compat",[Cy]:"fire-rc",[Sy]:"fire-rc-compat",[Ny]:"fire-gcs",[Ry]:"fire-gcs-compat",[Dy]:"fire-fst",[xy]:"fire-fst-compat","fire-js":"fire-js",[ky]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Map,Yo=new Map;function My(t,e){try{t.container.addComponent(e)}catch(n){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xo(t){const e=t.name;if(Yo.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;Yo.set(e,t);for(const n of zr.values())My(n,t);return!0}function Ly(t,e){return t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function."},Gr=new Vu("app","Firebase",Fy);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=Oy;function UT(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:ju,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Gr.create("bad-app-name",{appName:String(s)});const r=zr.get(s);if(r){if(Go(t,r.options)&&Go(n,r.config))return r;throw Gr.create("duplicate-app",{appName:s})}const i=new ny(s);for(const a of Yo.values())i.addComponent(a);const o=new Vy(t,n,i);return zr.set(s,o),o}function $y(t=ju){const e=zr.get(t);if(!e)throw Gr.create("no-app",{appName:t});return e}function Un(t,e,n){var s;let r=(s=Py[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qo.warn(a.join(" "));return}Xo(new Kr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t){Xo(new Kr("platform-logger",e=>new ay(e),"PRIVATE")),Un(Wo,Bu,t),Un(Wo,Bu,"esm2017"),Un("fire-js","")}By("");var jy="firebase",qy="9.1.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un(jy,qy,"app");var Hy=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},k,Jo=Jo||{},K=Hy||self;function Wr(){}function Zo(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Rs(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Ky(t){return Object.prototype.hasOwnProperty.call(t,ea)&&t[ea]||(t[ea]=++zy)}var ea="closure_uid_"+(1e9*Math.random()>>>0),zy=0;function Gy(t,e,n){return t.call.apply(t.bind,arguments)}function Wy(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Ve(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ve=Gy:Ve=Wy,Ve.apply(null,arguments)}function Qr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function Ue(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function jt(){this.s=this.s,this.o=this.o}var Qy=0,Yy={};jt.prototype.s=!1;jt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),Qy!=0)){var t=Ky(this);delete Yy[t]}};jt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qu=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Hu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const s=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<s;i++)i in r&&e.call(n,r[i],i,t)};function Xy(t){e:{var e=jv;const n=t.length,s=typeof t=="string"?t.split(""):t;for(let r=0;r<n;r++)if(r in s&&e.call(void 0,s[r],r,t)){e=r;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Ku(t){return Array.prototype.concat.apply([],arguments)}function ta(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Yr(t){return/^[\s\xa0]*$/.test(t)}var zu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ge(t,e){return t.indexOf(e)!=-1}function na(t,e){return t<e?-1:t>e?1:0}var We;e:{var Gu=K.navigator;if(Gu){var Wu=Gu.userAgent;if(Wu){We=Wu;break e}}We=""}function sa(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function Qu(t){const e={};for(const n in t)e[n]=t[n];return e}var Yu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xu(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<Yu.length;i++)n=Yu[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function ra(t){return ra[" "](t),t}ra[" "]=Wr;function Jy(t){var e=tv;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Zy=Ge(We,"Opera"),$n=Ge(We,"Trident")||Ge(We,"MSIE"),Ju=Ge(We,"Edge"),ia=Ju||$n,Zu=Ge(We,"Gecko")&&!(Ge(We.toLowerCase(),"webkit")&&!Ge(We,"Edge"))&&!(Ge(We,"Trident")||Ge(We,"MSIE"))&&!Ge(We,"Edge"),ev=Ge(We.toLowerCase(),"webkit")&&!Ge(We,"Edge");function eh(){var t=K.document;return t?t.documentMode:void 0}var Xr;e:{var oa="",aa=function(){var t=We;if(Zu)return/rv:([^\);]+)(\)|;)/.exec(t);if(Ju)return/Edge\/([\d\.]+)/.exec(t);if($n)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ev)return/WebKit\/(\S+)/.exec(t);if(Zy)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(aa&&(oa=aa?aa[1]:""),$n){var ca=eh();if(ca!=null&&ca>parseFloat(oa)){Xr=String(ca);break e}}Xr=oa}var tv={};function nv(){return Jy(function(){let t=0;const e=zu(String(Xr)).split("."),n=zu("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=na(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||na(r[2].length==0,i[2].length==0)||na(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var la;if(K.document&&$n){var th=eh();la=th||parseInt(Xr,10)||void 0}else la=void 0;var sv=la,rv=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{K.addEventListener("test",Wr,e),K.removeEventListener("test",Wr,e)}catch(n){}return t}();function qe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};function Ds(t,e){if(qe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Zu){e:{try{ra(e.nodeName);var r=!0;break e}catch(i){}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:iv[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ds.Z.h.call(this)}}Ue(Ds,qe);var iv={2:"touch",3:"pen",4:"mouse"};Ds.prototype.h=function(){Ds.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xs="closure_listenable_"+(1e6*Math.random()|0),ov=0;function av(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ia=r,this.key=++ov,this.ca=this.fa=!1}function Jr(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Zr(t){this.src=t,this.g={},this.h=0}Zr.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=ha(t,e,s,r);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new av(e,this.src,i,!!s,r),e.fa=n,t.push(e)),e};function ua(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=qu(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Jr(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ha(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.ca&&i.listener==e&&i.capture==!!n&&i.ia==s)return r}return-1}var fa="closure_lm_"+(1e6*Math.random()|0),da={};function nh(t,e,n,s,r){if(s&&s.once)return rh(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)nh(t,e[i],n,s,r);return null}return n=ya(n),t&&t[xs]?t.N(e,n,Rs(s)?!!s.capture:!!s,r):sh(t,e,n,!1,s,r)}function sh(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=Rs(r)?!!r.capture:!!r,a=ga(t);if(a||(t[fa]=a=new Zr(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=cv(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)rv||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(oh(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cv(){function t(n){return e.call(t.src,t.listener,n)}var e=lv;return t}function rh(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)rh(t,e[i],n,s,r);return null}return n=ya(n),t&&t[xs]?t.O(e,n,Rs(s)?!!s.capture:!!s,r):sh(t,e,n,!0,s,r)}function ih(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)ih(t,e[i],n,s,r);else s=Rs(s)?!!s.capture:!!s,n=ya(n),t&&t[xs]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=ha(i,n,s,r),-1<n&&(Jr(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=ga(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ha(e,n,s,r)),(n=-1<t?e[t]:null)&&pa(n))}function pa(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[xs])ua(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(oh(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=ga(e))?(ua(n,t),n.h==0&&(n.src=null,e[fa]=null)):Jr(t)}}}function oh(t){return t in da?da[t]:da[t]="on"+t}function lv(t,e){if(t.ca)t=!0;else{e=new Ds(e,this);var n=t.listener,s=t.ia||t.src;t.fa&&pa(t),t=n.call(s,e)}return t}function ga(t){return t=t[fa],t instanceof Zr?t:null}var ma="__closure_events_fn_"+(1e9*Math.random()>>>0);function ya(t){return typeof t=="function"?t:(t[ma]||(t[ma]=function(e){return t.handleEvent(e)}),t[ma])}function Oe(){jt.call(this),this.i=new Zr(this),this.P=this,this.I=null}Ue(Oe,jt);Oe.prototype[xs]=!0;Oe.prototype.removeEventListener=function(t,e,n,s){ih(this,t,e,n,s)};function $e(t,e){var n,s=t.I;if(s)for(n=[];s;s=s.I)n.push(s);if(t=t.P,s=e.type||e,typeof e=="string")e=new qe(e,t);else if(e instanceof qe)e.target=e.target||t;else{var r=e;e=new qe(s,t),Xu(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=ei(o,s,!0,e)&&r}if(o=e.g=t,r=ei(o,s,!0,e)&&r,r=ei(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=ei(o,s,!1,e)&&r}Oe.prototype.M=function(){if(Oe.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Jr(n[s]);delete t.g[e],t.h--}}this.I=null};Oe.prototype.N=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};Oe.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function ei(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&ua(t.i,o),r=a.call(c,s)!==!1&&r}}return r&&!s.defaultPrevented}var va=K.JSON.stringify;function uv(){var t=ch;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class hv{constructor(){this.h=this.g=null}add(e,n){const s=ah.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var ah=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new fv,t=>t.reset());class fv{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function dv(t){K.setTimeout(()=>{throw t},0)}function wa(t,e){Ea||pv(),Ta||(Ea(),Ta=!0),ch.add(t,e)}var Ea;function pv(){var t=K.Promise.resolve(void 0);Ea=function(){t.then(gv)}}var Ta=!1,ch=new hv;function gv(){for(var t;t=uv();){try{t.h.call(t.g)}catch(n){dv(n)}var e=ah;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ta=!1}function ti(t,e){Oe.call(this),this.h=t||1,this.g=e||K,this.j=Ve(this.kb,this),this.l=Date.now()}Ue(ti,Oe);k=ti.prototype;k.da=!1;k.S=null;k.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$e(this,"tick"),this.da&&(ba(this),this.start()))}};k.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ba(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}k.M=function(){ti.Z.M.call(this),ba(this),delete this.g};function Ia(t,e,n){if(typeof t=="function")n&&(t=Ve(t,n));else if(t&&typeof t.handleEvent=="function")t=Ve(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function lh(t){t.g=Ia(()=>{t.g=null,t.i&&(t.i=!1,lh(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class mv extends jt{constructor(e,n){super();this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lh(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(t){jt.call(this),this.h=t,this.g={}}Ue(ks,jt);var uh=[];function hh(t,e,n,s){Array.isArray(n)||(n&&(uh[0]=n.toString()),n=uh);for(var r=0;r<n.length;r++){var i=nh(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function fh(t){sa(t.g,function(e,n){this.g.hasOwnProperty(n)&&pa(e)},t),t.g={}}ks.prototype.M=function(){ks.Z.M.call(this),fh(this)};ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ni(){this.g=!0}ni.prototype.Aa=function(){this.g=!1};function yv(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function vv(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function Bn(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Ev(t,n)+(s?" "+s:"")})}function wv(t,e){t.info(function(){return"TIMEOUT: "+e})}ni.prototype.info=function(){};function Ev(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return va(n)}catch(a){return e}}var hn={},dh=null;function si(){return dh=dh||new Oe}hn.Ma="serverreachability";function ph(t){qe.call(this,hn.Ma,t)}Ue(ph,qe);function Os(t){const e=si();$e(e,new ph(e,t))}hn.STAT_EVENT="statevent";function gh(t,e){qe.call(this,hn.STAT_EVENT,t),this.stat=e}Ue(gh,qe);function Qe(t){const e=si();$e(e,new gh(e,t))}hn.Na="timingevent";function mh(t,e){qe.call(this,hn.Na,t),this.size=e}Ue(mh,qe);function Ps(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}var ri={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yh={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _a(){}_a.prototype.h=null;function vh(t){return t.h||(t.h=t.i())}function wh(){}var Ms={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Aa(){qe.call(this,"d")}Ue(Aa,qe);function Ca(){qe.call(this,"c")}Ue(Ca,qe);var Sa;function ii(){}Ue(ii,_a);ii.prototype.g=function(){return new XMLHttpRequest};ii.prototype.i=function(){return{}};Sa=new ii;function Ls(t,e,n,s){this.l=t,this.j=e,this.m=n,this.X=s||1,this.V=new ks(this),this.P=Tv,t=ia?125:void 0,this.W=new ti(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Eh}function Eh(){this.i=null,this.g="",this.h=!1}var Tv=45e3,Na={},oi={};k=Ls.prototype;k.setTimeout=function(t){this.P=t};function Ra(t,e,n){t.K=1,t.v=hi(Ot(e)),t.s=n,t.U=!0,Th(t,null)}function Th(t,e){t.F=Date.now(),Fs(t),t.A=Ot(t.v);var n=t.A,s=t.X;Array.isArray(s)||(s=[String(s)]),Dh(n.h,"t",s),t.C=0,n=t.l.H,t.h=new Eh,t.g=Zh(t.l,n?e:null,!t.s),0<t.O&&(t.L=new mv(Ve(t.Ia,t,t.g),t.O)),hh(t.V,t.g,"readystatechange",t.gb),e=t.H?Qu(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Os(1),yv(t.j,t.u,t.A,t.m,t.X,t.s)}k.gb=function(t){t=t.target;const e=this.L;e&&Pt(t)==3?e.l():this.Ia(t)};k.Ia=function(t){try{if(t==this.g)e:{const u=Pt(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(u!=3||ia||this.g&&(this.h.h||this.g.ga()||jh(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?Os(3):Os(2)),ai(this);var n=this.g.ba();this.N=n;t:if(bh(this)){var s=jh(this.g);t="";var r=s.length,i=Pt(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){fn(this),Vs(this);var o="";break t}this.h.i=new K.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,vv(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yr(a)){var l=a;break t}}l=null}if(n=l)Bn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Da(this,n);else{this.i=!1,this.o=3,Qe(12),fn(this),Vs(this);break e}}this.U?(Ih(this,u,o),ia&&this.i&&u==3&&(hh(this.V,this.W,"tick",this.fb),this.W.start())):(Bn(this.j,this.m,o,null),Da(this,o)),u==4&&fn(this),this.i&&!this.I&&(u==4?Qh(this.l,this):(this.i=!1,Fs(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Qe(12)):(this.o=0,Qe(13)),fn(this),Vs(this)}}}catch(u){}finally{}};function bh(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function Ih(t,e,n){let s=!0,r;for(;!t.I&&t.C<n.length;)if(r=bv(t,n),r==oi){e==4&&(t.o=4,Qe(14),s=!1),Bn(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Na){t.o=4,Qe(15),Bn(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Bn(t.j,t.m,r,null),Da(t,r);bh(t)&&r!=oi&&r!=Na&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Qe(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ba(e),e.L=!0,Qe(11))):(Bn(t.j,t.m,n,"[Invalid Chunked Response]"),fn(t),Vs(t))}k.fb=function(){if(this.g){var t=Pt(this.g),e=this.g.ga();this.C<e.length&&(ai(this),Ih(this,t,e),this.i&&t!=4&&Fs(this))}};function bv(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?oi:(n=Number(e.substring(n,s)),isNaN(n)?Na:(s+=1,s+n>e.length?oi:(e=e.substr(s,n),t.C=s+n,e)))}k.cancel=function(){this.I=!0,fn(this)};function Fs(t){t.Y=Date.now()+t.P,_h(t,t.P)}function _h(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ps(Ve(t.eb,t),e)}function ai(t){t.B&&(K.clearTimeout(t.B),t.B=null)}k.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(wv(this.j,this.A),this.K!=2&&(Os(3),Qe(17)),fn(this),this.o=2,Vs(this)):_h(this,this.Y-t)};function Vs(t){t.l.G==0||t.I||Qh(t.l,t)}function fn(t){ai(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,ba(t.W),fh(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Da(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Oa(n.i,t))){if(n.I=t.N,!t.J&&Oa(n.i,t)&&n.G==3){try{var s=n.Ca.g.parse(e)}catch(l){s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0)e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)yi(n),gi(n);else break e;$a(n),Qe(18)}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ps(Ve(n.ab,n),6e3));if(1>=Oh(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else gn(n,11)}else if((t.J||n.g==t)&&yi(n),!Yr(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.U=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.J=l[1],n.la=l[2];const u=l[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));const h=l[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.K=s,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;const g=t.g;if(g){const y=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=s.i;!i.g&&(Ge(y,"spdy")||Ge(y,"quic")||Ge(y,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(Pa(i,i.h),i.h=null))}if(s.D){const R=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(s.sa=R,ve(s.F,s.D,R))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),s=n;var o=t;if(s.oa=Jh(s,s.H?s.la:null,s.W),o.J){Ph(s.i,o);var a=o,c=s.K;c&&a.setTimeout(c),a.B&&(ai(a),Fs(a)),s.g=o}else Gh(s);0<n.l.length&&mi(n)}else l[0]!="stop"&&l[0]!="close"||gn(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?gn(n,7):Va(n):l[0]!="noop"&&n.j&&n.j.wa(l),n.A=0)}}Os(4)}catch(l){}}function Iv(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Zo(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function xa(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Zo(t)||typeof t=="string")Hu(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Zo(t)||typeof t=="string"){n=[];for(var s=t.length,r=0;r<s;r++)n.push(r)}else for(r in n=[],s=0,t)n[s++]=r;s=Iv(t),r=s.length;for(var i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}}function jn(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(t)if(t instanceof jn)for(n=t.T(),s=0;s<n.length;s++)this.set(n[s],t.get(n[s]));else for(s in t)this.set(s,t[s])}k=jn.prototype;k.R=function(){ka(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};k.T=function(){return ka(this),this.g.concat()};function ka(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var s=t.g[e];dn(t.h,s)&&(t.g[n++]=s),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)s=t.g[e],dn(r,s)||(t.g[n++]=s,r[s]=1),e++;t.g.length=n}}k.get=function(t,e){return dn(this.h,t)?this.h[t]:e};k.set=function(t,e){dn(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};k.forEach=function(t,e){for(var n=this.T(),s=0;s<n.length;s++){var r=n[s],i=this.get(r);t.call(e,i,r,this)}};function dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Ah=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _v(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function pn(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof pn){this.g=e!==void 0?e:t.g,ci(this,t.j),this.s=t.s,li(this,t.i),ui(this,t.m),this.l=t.l,e=t.h;var n=new Bs;n.i=e.i,e.g&&(n.g=new jn(e.g),n.h=e.h),Ch(this,n),this.o=t.o}else t&&(n=String(t).match(Ah))?(this.g=!!e,ci(this,n[1]||"",!0),this.s=Us(n[2]||""),li(this,n[3]||"",!0),ui(this,n[4]),this.l=Us(n[5]||"",!0),Ch(this,n[6]||"",!0),this.o=Us(n[7]||"")):(this.g=!!e,this.h=new Bs(null,this.g))}pn.prototype.toString=function(){var t=[],e=this.j;e&&t.push($s(e,Sh,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($s(e,Sh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push($s(n,n.charAt(0)=="/"?Rv:Nv,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$s(n,xv)),t.join("")};function Ot(t){return new pn(t)}function ci(t,e,n){t.j=n?Us(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function li(t,e,n){t.i=n?Us(e,!0):e}function ui(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ch(t,e,n){e instanceof Bs?(t.h=e,kv(t.h,t.g)):(n||(e=$s(e,Dv)),t.h=new Bs(e,t.g))}function ve(t,e,n){t.h.set(e,n)}function hi(t){return ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Av(t){return t instanceof pn?Ot(t):new pn(t,void 0)}function Cv(t,e,n,s){var r=new pn(null,void 0);return t&&ci(r,t),e&&li(r,e),n&&ui(r,n),s&&(r.l=s),r}function Us(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $s(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Sv),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Sv(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Sh=/[#\/\?@]/g,Nv=/[#\?:]/g,Rv=/[#\?]/g,Dv=/[#\?@]/g,xv=/#/g;function Bs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qt(t){t.g||(t.g=new jn,t.h=0,t.i&&_v(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}k=Bs.prototype;k.add=function(t,e){qt(this),this.i=null,t=qn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Nh(t,e){qt(t),e=qn(t,e),dn(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,dn(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&ka(t)))}function Rh(t,e){return qt(t),e=qn(t,e),dn(t.g.h,e)}k.forEach=function(t,e){qt(this),this.g.forEach(function(n,s){Hu(n,function(r){t.call(e,r,s,this)},this)},this)};k.T=function(){qt(this);for(var t=this.g.R(),e=this.g.T(),n=[],s=0;s<e.length;s++)for(var r=t[s],i=0;i<r.length;i++)n.push(e[s]);return n};k.R=function(t){qt(this);var e=[];if(typeof t=="string")Rh(this,t)&&(e=Ku(e,this.g.get(qn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Ku(e,t[n])}return e};k.set=function(t,e){return qt(this),this.i=null,t=qn(this,t),Rh(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};k.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function Dh(t,e,n){Nh(t,e),0<n.length&&(t.i=null,t.g.set(qn(t,e),ta(n)),t.h+=n.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var s=e[n],r=encodeURIComponent(String(s));s=this.R(s);for(var i=0;i<s.length;i++){var o=r;s[i]!==""&&(o+="="+encodeURIComponent(String(s[i]))),t.push(o)}}return this.i=t.join("&")};function qn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function kv(t,e){e&&!t.j&&(qt(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(Nh(this,s),Dh(this,r,n))},t)),t.j=e}var Ov=class{constructor(t,e){this.h=t,this.g=e}};function xh(t){this.l=t||Pv,K.PerformanceNavigationTiming?(t=K.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(K.g&&K.g.Ea&&K.g.Ea()&&K.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pv=10;function kh(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Oh(t){return t.h?1:t.g?t.g.size:0}function Oa(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Pa(t,e){t.g?t.g.add(e):t.h=e}function Ph(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}xh.prototype.cancel=function(){if(this.i=Mh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Mh(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return ta(t.i)}function Ma(){}Ma.prototype.stringify=function(t){return K.JSON.stringify(t,void 0)};Ma.prototype.parse=function(t){return K.JSON.parse(t,void 0)};function Mv(){this.g=new Ma}function Lv(t,e,n){const s=n||"";try{xa(t,function(r,i){let o=r;Rs(r)&&(o=va(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function Fv(t,e){const n=new ni;if(K.Image){const s=new Image;s.onload=Qr(fi,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Qr(fi,n,s,"TestLoadImage: error",!1,e),s.onabort=Qr(fi,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Qr(fi,n,s,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function fi(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch(i){}}function js(t){this.l=t.$b||null,this.j=t.ib||!1}Ue(js,_a);js.prototype.g=function(){return new di(this.l,this.j)};js.prototype.i=function(t){return function(){return t}}({});function di(t,e){Oe.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=La,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ue(di,Oe);var La=0;k=di.prototype;k.open=function(t,e){if(this.readyState!=La)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Hs(this)};k.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||K).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=La};k.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Hs(this)),this.g&&(this.readyState=3,Hs(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof K.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lh(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function Lh(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}k.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?qs(this):Hs(this),this.readyState==3&&Lh(this)}};k.Ua=function(t){this.g&&(this.response=this.responseText=t,qs(this))};k.Ta=function(t){this.g&&(this.response=t,qs(this))};k.ha=function(){this.g&&qs(this)};function qs(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Hs(t)}k.setRequestHeader=function(t,e){this.v.append(t,e)};k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Hs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Vv=K.JSON.parse;function Se(t){Oe.call(this),this.headers=new jn,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fh,this.K=this.L=!1}Ue(Se,Oe);var Fh="",Uv=/^https?$/i,$v=["POST","PUT"];k=Se.prototype;k.ea=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sa.g(),this.C=this.u?vh(this.u):vh(Sa),this.g.onreadystatechange=Ve(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){Vh(this,i);return}t=n||"";const r=new jn(this.headers);s&&xa(s,function(i,o){r.set(o,i)}),s=Xy(r.T()),n=K.FormData&&t instanceof K.FormData,!(0<=qu($v,e))||s||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(i,o){this.g.setRequestHeader(o,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bh(this),0<this.B&&((this.K=Bv(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ve(this.pa,this)):this.A=Ia(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Vh(this,i)}};function Bv(t){return $n&&nv()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function jv(t){return t.toLowerCase()=="content-type"}k.pa=function(){typeof Jo!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$e(this,"timeout"),this.abort(8))};function Vh(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Uh(t),pi(t)}function Uh(t){t.D||(t.D=!0,$e(t,"complete"),$e(t,"error"))}k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,$e(this,"complete"),$e(this,"abort"),pi(this))};k.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pi(this,!0)),Se.Z.M.call(this)};k.Fa=function(){this.s||(this.F||this.v||this.l?$h(this):this.cb())};k.cb=function(){$h(this)};function $h(t){if(t.h&&typeof Jo!="undefined"&&(!t.C[1]||Pt(t)!=4||t.ba()!=2)){if(t.v&&Pt(t)==4)Ia(t.Fa,0,t);else if($e(t,"readystatechange"),Pt(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.H).match(Ah)[1]||null;if(!r&&K.self&&K.self.location){var i=K.self.location.protocol;r=i.substr(0,i.length-1)}s=!Uv.test(r?r.toLowerCase():"")}n=s}if(n)$e(t,"complete"),$e(t,"success");else{t.m=6;try{var o=2<Pt(t)?t.g.statusText:""}catch(c){o=""}t.j=o+" ["+t.ba()+"]",Uh(t)}}finally{pi(t)}}}}function pi(t,e){if(t.g){Bh(t);const n=t.g,s=t.C[0]?Wr:null;t.g=null,t.C=null,e||$e(t,"ready");try{n.onreadystatechange=s}catch(r){}}}function Bh(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}function Pt(t){return t.g?t.g.readyState:0}k.ba=function(){try{return 2<Pt(this)?this.g.status:-1}catch(t){return-1}};k.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}};k.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Vv(e)}};function jh(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Fh:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}k.Da=function(){return this.m};k.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function qv(t){let e="";return sa(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Fa(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=qv(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ve(t,e,n))}function Ks(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qh(t){this.za=0,this.l=[],this.h=new ni,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ks("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ks("baseRetryDelayMs",5e3,t),this.$a=Ks("retryDelaySeedMs",1e4,t),this.Ya=Ks("forwardChannelMaxRetries",2,t),this.ra=Ks("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new xh(t&&t.concurrentRequestLimit),this.Ca=new Mv,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}k=qh.prototype;k.ma=8;k.G=1;function Va(t){if(Hh(t),t.G==3){var e=t.V++,n=Ot(t.F);ve(n,"SID",t.J),ve(n,"RID",e),ve(n,"TYPE","terminate"),zs(t,n),e=new Ls(t,t.h,e,void 0),e.K=2,e.v=hi(Ot(n)),n=!1,K.navigator&&K.navigator.sendBeacon&&(n=K.navigator.sendBeacon(e.v.toString(),"")),!n&&K.Image&&(new Image().src=e.v,n=!0),n||(e.g=Zh(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Fs(e)}Xh(t)}k.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}};function gi(t){t.g&&(Ba(t),t.g.cancel(),t.g=null)}function Hh(t){gi(t),t.u&&(K.clearTimeout(t.u),t.u=null),yi(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&K.clearTimeout(t.m),t.m=null)}function Ua(t,e){t.l.push(new Ov(t.Za++,e)),t.G==3&&mi(t)}function mi(t){kh(t.i)||t.m||(t.m=!0,wa(t.Ha,t),t.C=0)}function Hv(t,e){return Oh(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Ps(Ve(t.Ha,t,e),Yh(t,t.C)),t.C++,!0)}k.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const r=new Ls(this,this.h,t,void 0);let i=this.s;if(this.P&&(i?(i=Qu(i),Xu(i,this.P)):i=this.P),this.o===null&&(r.H=i),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var s=this.l[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=zh(this,r,e),n=Ot(this.F),ve(n,"RID",t),ve(n,"CVER",22),this.D&&ve(n,"X-HTTP-Session-Id",this.D),zs(this,n),this.o&&i&&Fa(n,this.o,i),Pa(this.i,r),this.Ra&&ve(n,"TYPE","init"),this.ja?(ve(n,"$req",e),ve(n,"SID","null"),r.$=!0,Ra(r,n,null)):Ra(r,n,e),this.G=2}}else this.G==3&&(t?Kh(this,t):this.l.length==0||kh(this.i)||Kh(this))};function Kh(t,e){var n;e?n=e.m:n=t.V++;const s=Ot(t.F);ve(s,"SID",t.J),ve(s,"RID",n),ve(s,"AID",t.U),zs(t,s),t.o&&t.s&&Fa(s,t.o,t.s),n=new Ls(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=zh(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Pa(t.i,n),Ra(n,s,e)}function zs(t,e){t.j&&xa({},function(n,s){ve(e,s,n)})}function zh(t,e,n){n=Math.min(t.l.length,n);var s=t.j?Ve(t.j.Oa,t.j,t):null;e:{var r=t.l;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=r[c].h;const u=r[c].g;if(l-=i,0>l)i=Math.max(0,r[c].h-100),a=!1;else try{Lv(u,o,"req"+l+"_")}catch(h){s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,s}function Gh(t){t.g||t.u||(t.Y=1,wa(t.Ga,t),t.A=0)}function $a(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Ps(Ve(t.Ga,t),Yh(t,t.A)),t.A++,!0)}k.Ga=function(){if(this.u=null,Wh(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ps(Ve(this.bb,this),t)}};k.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Qe(10),gi(this),Wh(this))};function Ba(t){t.B!=null&&(K.clearTimeout(t.B),t.B=null)}function Wh(t){t.g=new Ls(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Ot(t.oa);ve(e,"RID","rpc"),ve(e,"SID",t.J),ve(e,"CI",t.N?"0":"1"),ve(e,"AID",t.U),zs(t,e),ve(e,"TYPE","xmlhttp"),t.o&&t.s&&Fa(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=hi(Ot(e)),n.s=null,n.U=!0,Th(n,t)}k.ab=function(){this.v!=null&&(this.v=null,gi(this),$a(this),Qe(19))};function yi(t){t.v!=null&&(K.clearTimeout(t.v),t.v=null)}function Qh(t,e){var n=null;if(t.g==e){yi(t),Ba(t),t.g=null;var s=2}else if(Oa(t.i,e))n=e.D,Ph(t.i,e),s=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;s=si(),$e(s,new mh(s,n,e,r)),mi(t)}else Gh(t);else if(r=e.o,r==3||r==0&&0<t.I||!(s==1&&Hv(t,e)||s==2&&$a(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:gn(t,5);break;case 4:gn(t,10);break;case 3:gn(t,6);break;default:gn(t,2)}}}function Yh(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function gn(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var s=Ve(t.jb,t);n||(n=new pn("//www.google.com/images/cleardot.gif"),K.location&&K.location.protocol=="http"||ci(n,"https"),hi(n)),Fv(n.toString(),s)}else Qe(2);t.G=0,t.j&&t.j.va(e),Xh(t),Hh(t)}k.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Qe(2)):(this.h.info("Failed to ping google.com"),Qe(1))};function Xh(t){t.G=0,t.I=-1,t.j&&((Mh(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,ta(t.l),t.l.length=0),t.j.ua())}function Jh(t,e,n){let s=Av(n);if(s.i!="")e&&li(s,e+"."+s.i),ui(s,s.m);else{const r=K.location;s=Cv(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.aa&&sa(t.aa,function(r,i){ve(s,i,r)}),e=t.D,n=t.sa,e&&n&&ve(s,e,n),ve(s,"VER",t.ma),zs(t,s),s}function Zh(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Se(new js({ib:!0})):new Se(t.qa),e.L=t.H,e}function ef(){}k=ef.prototype;k.xa=function(){};k.wa=function(){};k.va=function(){};k.ua=function(){};k.Oa=function(){};function vi(){if($n&&!(10<=Number(sv)))throw Error("Environmental error: no available transport.")}vi.prototype.g=function(t,e){return new it(t,e)};function it(t,e){Oe.call(this),this.g=new qh(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Yr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yr(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Hn(this)}Ue(it,Oe);it.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),wa(Ve(t.hb,t,e))),Qe(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Jh(t,null,t.W),mi(t)};it.prototype.close=function(){Va(this.g)};it.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Ua(this.g,e)}else this.v?(e={},e.__data__=va(t),Ua(this.g,e)):Ua(this.g,t)};it.prototype.M=function(){this.g.j=null,delete this.j,Va(this.g),delete this.g,it.Z.M.call(this)};function tf(t){Aa.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ue(tf,Aa);function nf(){Ca.call(this),this.status=1}Ue(nf,Ca);function Hn(t){this.g=t}Ue(Hn,ef);Hn.prototype.xa=function(){$e(this.g,"a")};Hn.prototype.wa=function(t){$e(this.g,new tf(t))};Hn.prototype.va=function(t){$e(this.g,new nf(t))};Hn.prototype.ua=function(){$e(this.g,"b")};vi.prototype.createWebChannel=vi.prototype.g;it.prototype.send=it.prototype.u;it.prototype.open=it.prototype.m;it.prototype.close=it.prototype.close;ri.NO_ERROR=0;ri.TIMEOUT=8;ri.HTTP_ERROR=6;yh.COMPLETE="complete";wh.EventType=Ms;Ms.OPEN="a";Ms.CLOSE="b";Ms.ERROR="c";Ms.MESSAGE="d";Oe.prototype.listen=Oe.prototype.N;Se.prototype.listenOnce=Se.prototype.O;Se.prototype.getLastError=Se.prototype.La;Se.prototype.getLastErrorCode=Se.prototype.Da;Se.prototype.getStatus=Se.prototype.ba;Se.prototype.getResponseJson=Se.prototype.Qa;Se.prototype.getResponseText=Se.prototype.ga;Se.prototype.send=Se.prototype.ea;var Kv=function(){return new vi},zv=function(){return si()},ja=ri,Gv=yh,Wv=hn,sf={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qv=js,wi=wh,Yv=Se;const rf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kn="9.1.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new $u("@firebase/firestore");function of(){return mn.logLevel}function B(t,...e){if(mn.logLevel<=ie.DEBUG){const n=e.map(qa);mn.debug(`Firestore (${Kn}): ${t}`,...n)}}function Ht(t,...e){if(mn.logLevel<=ie.ERROR){const n=e.map(qa);mn.error(`Firestore (${Kn}): ${t}`,...n)}}function af(t,...e){if(mn.logLevel<=ie.WARN){const n=e.map(qa);mn.warn(`Firestore (${Kn}): ${t}`,...n)}}function qa(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch(n){return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t="Unexpected state"){const e=`FIRESTORE (${Kn}) INTERNAL ASSERTION FAILED: `+t;throw Ht(e),new Error(e)}function we(t,e){t||q()}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Error{constructor(e,n){super(n),this.code=e,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Jv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}}class Zv{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new Kt;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Kt,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},a=c=>{B("FirebaseCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(B("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Kt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(B("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(we(typeof s.accessToken=="string"),new Xv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new et(e)}}class ew{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=et.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class tw{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new ew(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.g(s),this.p=s=>n.writeSequenceNumber(s))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ha.T=-1;class cf{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=nw(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function oe(t,e){return t<e?-1:t>e?1:0}function zn(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new M(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new M(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new pt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new pt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gn(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,s){n===void 0?n=0:n>e.length&&q(),s===void 0?s=e.length-n:s>e.length-n&&q(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Gs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gs?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends Gs{construct(e,n,s){return new Te(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new M(T.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const sw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends Gs{construct(e,n,s){return new ot(e,n,s)}static isValidIdentifier(e){return sw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new M(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new M(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new M(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new M(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.fields=e,e.sort(ot.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zn(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new He(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new He(n)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const rw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zt(t){if(we(!!t),typeof t=="string"){let e=0;const n=rw.exec(t);if(we(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wn(t){return typeof t=="string"?He.fromBase64String(t):He.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ff(t){const e=t.mapValue.fields.__previous_value__;return hf(e)?ff(e):e}function Ws(t){const e=zt(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t){return t==null}function Ti(t){return t===0&&1/t==-1/0}function iw(t){return typeof t=="number"&&Number.isInteger(t)&&!Ti(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(Te.fromString(e))}static fromName(e){return new H(Te.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new Te(e.slice()))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hf(t)?4:10:q()}function Ct(t,e){const n=vn(t);if(n!==vn(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ws(t).isEqual(Ws(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=zt(s.timestampValue),o=zt(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Wn(s.bytesValue).isEqual(Wn(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Ne(s.geoPointValue.latitude)===Ne(r.geoPointValue.latitude)&&Ne(s.geoPointValue.longitude)===Ne(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Ne(s.integerValue)===Ne(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Ne(s.doubleValue),o=Ne(r.doubleValue);return i===o?Ti(i)===Ti(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return zn(t.arrayValue.values||[],e.arrayValue.values||[],Ct);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(lf(i)!==lf(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Ct(i[a],o[a])))return!1;return!0}(t,e);default:return q()}}function Qs(t,e){return(t.values||[]).find(n=>Ct(n,e))!==void 0}function Qn(t,e){const n=vn(t),s=vn(e);if(n!==s)return oe(n,s);switch(n){case 0:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=Ne(r.integerValue||r.doubleValue),a=Ne(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return df(t.timestampValue,e.timestampValue);case 4:return df(Ws(t),Ws(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(r,i){const o=Wn(r),a=Wn(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=oe(o[c],a[c]);if(l!==0)return l}return oe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=oe(Ne(r.latitude),Ne(i.latitude));return o!==0?o:oe(Ne(r.longitude),Ne(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=Qn(o[c],a[c]);if(l)return l}return oe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){const o=r.fields||{},a=Object.keys(o),c=i.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const h=oe(a[u],l[u]);if(h!==0)return h;const f=Qn(o[a[u]],c[l[u]]);if(f!==0)return f}return oe(a.length,l.length)}(t.mapValue,e.mapValue);default:throw q()}}function df(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=zt(t),s=zt(e),r=oe(n.seconds,s.seconds);return r!==0?r:oe(n.nanos,s.nanos)}function Ka(t){return za(t)}function za(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=zt(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Wn(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,H.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=za(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${za(s.fields[a])}`;return i+"}"}(t.mapValue):q();var e,n}function Ga(t){return!!t&&"integerValue"in t}function Wa(t){return!!t&&"arrayValue"in t}function pf(t){return!!t&&"nullValue"in t}function gf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qa(t){return!!t&&"mapValue"in t}function Ys(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gn(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ys(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ys(t.arrayValue.values[n]);return e}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.value=e}static empty(){return new at({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ys(n)}setAll(e){let n=ot.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Ys(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Qa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ct(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Qa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Gn(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new at(Ys(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n,s,r,i){this.key=e,this.documentType=n,this.version=s,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Pe(e,0,re.min(),at.empty(),0)}static newFoundDocument(e,n,s){return new Pe(e,1,n,s,0)}static newNoDocument(e,n){return new Pe(e,2,n,at.empty(),0)}static newUnknownDocument(e,n){return new Pe(e,3,n,at.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=at.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=at.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Pe(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.A=null}}function mf(t,e=null,n=[],s=[],r=null,i=null,o=null){return new ow(t,e,n,s,r,i,o)}function Ya(t){const e=Z(t);if(e.A===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>cw(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),yn(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=bi(e.startAt)),e.endAt&&(n+="|ub:",n+=bi(e.endAt)),e.A=n}return e.A}function aw(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${Ka(s.value)}`;var s}).join(", ")}]`),yn(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: "+bi(t.startAt)),t.endAt&&(e+=", endAt: "+bi(t.endAt)),`Target(${e})`}function Xa(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!mw(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(n=t.filters[r],s=e.filters[r],n.op!==s.op||!n.field.isEqual(s.field)||!Ct(n.value,s.value))return!1;var n,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wf(t.startAt,e.startAt)&&wf(t.endAt,e.endAt)}function Ja(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class tt extends class{}{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.R(e,n,s):new lw(e,n,s):n==="array-contains"?new fw(e,s):n==="in"?new dw(e,s):n==="not-in"?new pw(e,s):n==="array-contains-any"?new gw(e,s):new tt(e,n,s)}static R(e,n,s){return n==="in"?new uw(e,s):new hw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.P(Qn(n,this.value)):n!==null&&vn(this.value)===vn(n)&&this.P(Qn(n,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}function cw(t){return t.field.canonicalString()+t.op.toString()+Ka(t.value)}class lw extends tt{constructor(e,n,s){super(e,n,s),this.key=H.fromName(s.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.P(n)}}class uw extends tt{constructor(e,n){super(e,"in",n),this.keys=yf("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hw extends tt{constructor(e,n){super(e,"not-in",n),this.keys=yf("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yf(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>H.fromName(s.referenceValue))}class fw extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wa(n)&&Qs(n.arrayValue,this.value)}}class dw extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qs(this.value.arrayValue,n)}}class pw extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qs(this.value.arrayValue,n)}}class gw extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wa(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Qs(this.value.arrayValue,s))}}class Za{constructor(e,n){this.position=e,this.before=n}}function bi(t){return`${t.before?"b":"a"}:${t.position.map(e=>Ka(e)).join(",")}`}class Yn{constructor(e,n="asc"){this.field=e,this.dir=n}}function mw(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function vf(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=H.comparator(H.fromName(o.referenceValue),n.key):s=Qn(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return t.before?s<=0:s<0}function wf(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ct(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.V=null,this.S=null,this.startAt,this.endAt}}function yw(t,e,n,s,r,i,o,a){return new Xs(t,e,n,s,r,i,o,a)}function ec(t){return new Xs(t)}function Ii(t){return!yn(t.limit)&&t.limitType==="F"}function _i(t){return!yn(t.limit)&&t.limitType==="L"}function Ef(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Tf(t){for(const e of t.filters)if(e.v())return e.field;return null}function vw(t){return t.collectionGroup!==null}function Js(t){const e=Z(t);if(e.V===null){e.V=[];const n=Tf(e),s=Ef(e);if(n!==null&&s===null)n.isKeyField()||e.V.push(new Yn(n)),e.V.push(new Yn(ot.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.V.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Yn(ot.keyField(),i))}}}return e.V}function wn(t){const e=Z(t);if(!e.S)if(e.limitType==="F")e.S=mf(e.path,e.collectionGroup,Js(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Js(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Yn(i.field,o))}const s=e.endAt?new Za(e.endAt.position,!e.endAt.before):null,r=e.startAt?new Za(e.startAt.position,!e.startAt.before):null;e.S=mf(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e.S}function ww(t,e,n){return new Xs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ai(t,e){return Xa(wn(t),wn(e))&&t.limitType===e.limitType}function bf(t){return`${Ya(wn(t))}|lt:${t.limitType}`}function tc(t){return`Query(target=${aw(wn(t))}; limitType=${t.limitType})`}function Ci(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):H.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of n.explicitOrderBy)if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!vf(n.startAt,Js(n),s)||n.endAt&&vf(n.endAt,Js(n),s))}(t,e)}function If(t){return(e,n)=>{let s=!1;for(const r of Js(t)){const i=Ew(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function Ew(t,e,n){const s=t.field.isKeyField()?H.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),c=o.data.field(r);return a!==null&&c!==null?Qn(a,c):q()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t,e){if(t.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ti(e)?"-0":e}}function Af(t){return{integerValue:""+t}}function Tw(t,e){return iw(e)?Af(e):_f(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this._=void 0}}function bw(t,e,n){return t instanceof Ni?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof Zs?Cf(t,e):t instanceof er?Sf(t,e):function(s,r){const i=_w(s,r),o=Nf(i)+Nf(s.C);return Ga(i)&&Ga(s.C)?Af(o):_f(s.N,o)}(t,e)}function Iw(t,e,n){return t instanceof Zs?Cf(t,e):t instanceof er?Sf(t,e):n}function _w(t,e){return t instanceof Ri?Ga(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class Ni extends Si{}class Zs extends Si{constructor(e){super(),this.elements=e}}function Cf(t,e){const n=Rf(e);for(const s of t.elements)n.some(r=>Ct(r,s))||n.push(s);return{arrayValue:{values:n}}}class er extends Si{constructor(e){super(),this.elements=e}}function Sf(t,e){let n=Rf(e);for(const s of t.elements)n=n.filter(r=>!Ct(r,s));return{arrayValue:{values:n}}}class Ri extends Si{constructor(e,n){super(),this.N=e,this.C=n}}function Nf(t){return Ne(t.integerValue||t.doubleValue)}function Rf(t){return Wa(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Aw(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Zs&&s instanceof Zs||n instanceof er&&s instanceof er?zn(n.elements,s.elements,Ct):n instanceof Ri&&s instanceof Ri?Ct(n.C,s.C):n instanceof Ni&&s instanceof Ni}(t.transform,e.transform)}class Gt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gt}static exists(e){return new Gt(void 0,e)}static updateTime(e){return new Gt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Di(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xi{}function Cw(t,e,n){t instanceof ki?function(s,r,i){const o=s.value.clone(),a=Of(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Xn?function(s,r,i){if(!Di(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=Of(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(kf(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function nc(t,e,n){t instanceof ki?function(s,r,i){if(!Di(s.precondition,r))return;const o=s.value.clone(),a=Pf(s.fieldTransforms,i,r);o.setAll(a),r.convertToFoundDocument(xf(r),o).setHasLocalMutations()}(t,e,n):t instanceof Xn?function(s,r,i){if(!Di(s.precondition,r))return;const o=Pf(s.fieldTransforms,i,r),a=r.data;a.setAll(kf(s)),a.setAll(o),r.convertToFoundDocument(xf(r),a).setHasLocalMutations()}(t,e,n):function(s,r){Di(s.precondition,r)&&r.convertToNoDocument(re.min())}(t,e)}function Df(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&zn(n,s,(r,i)=>Aw(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function xf(t){return t.isFoundDocument()?t.version:re.min()}class ki extends xi{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}}class Xn extends xi{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}}function kf(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Of(t,e,n){const s=new Map;we(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,Iw(o,a,n[r]))}return s}function Pf(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,bw(i,o,e))}return s}class Mf extends xi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class Lf extends xi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,ee;function Nw(t){switch(t){default:return q();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function Ff(t){if(t===void 0)return Ht("GRPC error has no .code"),T.UNKNOWN;switch(t){case Re.OK:return T.OK;case Re.CANCELLED:return T.CANCELLED;case Re.UNKNOWN:return T.UNKNOWN;case Re.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case Re.INTERNAL:return T.INTERNAL;case Re.UNAVAILABLE:return T.UNAVAILABLE;case Re.UNAUTHENTICATED:return T.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case Re.NOT_FOUND:return T.NOT_FOUND;case Re.ALREADY_EXISTS:return T.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return T.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case Re.ABORTED:return T.ABORTED;case Re.OUT_OF_RANGE:return T.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return T.UNIMPLEMENTED;case Re.DATA_LOSS:return T.DATA_LOSS;default:return q()}}(ee=Re||(Re={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||Be.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oi(this.root,e,this.comparator,!0)}}class Oi{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s!=null?s:Be.RED,this.left=r!=null?r:Be.EMPTY,this.right=i!=null?i:Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Be(e!=null?e:this.key,n!=null?n:this.value,s!=null?s:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Be.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();const e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(t,e,n,s,r){return this}insert(t,e,n){return new Be(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vf(this.data.getIterator())}getIteratorFrom(e){return new Vf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class Vf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new Ye(H.comparator);function En(){return Rw}const Dw=new Ye(H.comparator);function sc(){return Dw}new Ye(H.comparator);const xw=new je(H.comparator);function Ee(...t){let e=xw;for(const n of t)e=e.add(n);return e}const kw=new je(oe);function Uf(){return kw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n){const s=new Map;return s.set(e,tr.createSynthesizedTargetChangeForCurrentChange(e,n)),new Pi(re.min(),s,Uf(),En(),Ee())}}class tr{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n){return new tr(He.EMPTY_BYTE_STRING,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,s,r){this.k=e,this.removedTargetIds=n,this.key=s,this.$=r}}class $f{constructor(e,n){this.targetId=e,this.O=n}}class Bf{constructor(e,n,s=He.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class jf{constructor(){this.F=0,this.M=Hf(),this.L=He.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return this.F!==0}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Ee(),n=Ee(),s=Ee();return this.M.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:q()}}),new tr(this.L,this.B,e,n,s)}G(){this.U=!1,this.M=Hf()}H(e,n){this.U=!0,this.M=this.M.insert(e,n)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Ow{constructor(e){this.tt=e,this.et=new Map,this.nt=En(),this.st=qf(),this.it=new je(oe)}rt(e){for(const n of e.k)e.$&&e.$.isFoundDocument()?this.ot(n,e.$):this.at(n,e.key,e.$);for(const n of e.removedTargetIds)this.at(n,e.key,e.$)}ct(e){this.forEachTarget(e,n=>{const s=this.ut(n);switch(e.state){case 0:this.ht(n)&&s.j(e.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(e.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(n);break;case 3:this.ht(n)&&(s.Z(),s.j(e.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),s.j(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.et.forEach((s,r)=>{this.ht(r)&&n(r)})}ft(e){const n=e.targetId,s=e.O.count,r=this.dt(n);if(r){const i=r.target;if(Ja(i))if(s===0){const o=new H(i.path);this.at(n,o,Pe.newNoDocument(o,re.min()))}else we(s===1);else this.wt(n)!==s&&(this.lt(n),this.it=this.it.add(n))}}_t(e){const n=new Map;this.et.forEach((i,o)=>{const a=this.dt(o);if(a){if(i.current&&Ja(a.target)){const c=new H(a.target.path);this.nt.get(c)!==null||this.gt(o,c)||this.at(o,c,Pe.newNoDocument(c,e))}i.K&&(n.set(o,i.W()),i.G())}});let s=Ee();this.st.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.dt(c);return!l||l.purpose===2||(a=!1,!1)}),a&&(s=s.add(i))});const r=new Pi(e,n,this.it,this.nt,s);return this.nt=En(),this.st=qf(),this.it=new je(oe),r}ot(e,n){if(!this.ht(e))return;const s=this.gt(e,n.key)?2:0;this.ut(e).H(n.key,s),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(e))}at(e,n,s){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,n)?r.H(n,1):r.J(n),this.st=this.st.insert(n,this.yt(n).delete(e)),s&&(this.nt=this.nt.insert(n,s))}removeTarget(e){this.et.delete(e)}wt(e){const n=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let n=this.et.get(e);return n||(n=new jf,this.et.set(e,n)),n}yt(e){let n=this.st.get(e);return n||(n=new je(oe),this.st=this.st.insert(e,n)),n}ht(e){const n=this.dt(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}dt(e){const n=this.et.get(e);return n&&n.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new jf),this.tt.getRemoteKeysForTarget(e).forEach(n=>{this.at(e,n,null)})}gt(e,n){return this.tt.getRemoteKeysForTarget(e).has(n)}}function qf(){return new Ye(H.comparator)}function Hf(){return new Ye(H.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Mw=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class Lw{constructor(e,n){this.databaseId=e,this.D=n}}function Li(t,e){return t.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kf(t,e){return t.D?e.toBase64():e.toUint8Array()}function Fw(t,e){return Li(t,e.toTimestamp())}function Tn(t){return we(!!t),re.fromTimestamp(function(e){const n=zt(e);return new pt(n.seconds,n.nanos)}(t))}function rc(t,e){return function(n){return new Te(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function zf(t){const e=Te.fromString(t);return we(Jf(e)),e}function Fi(t,e){return rc(t.databaseId,e.path)}function nr(t,e){const n=zf(e);if(n.get(1)!==t.databaseId.projectId)throw new M(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new M(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(Gf(n))}function ic(t,e){return rc(t.databaseId,e)}function Vw(t){const e=zf(t);return e.length===4?Te.emptyPath():Gf(e)}function Vi(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gf(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Wf(t,e,n){return{name:Fi(t,e),fields:n.value.mapValue.fields}}function Uw(t,e){return"found"in e?function(n,s){we(!!s.found),s.found.name,s.found.updateTime;const r=nr(n,s.found.name),i=Tn(s.found.updateTime),o=new at({mapValue:{fields:s.found.fields}});return Pe.newFoundDocument(r,i,o)}(t,e):"missing"in e?function(n,s){we(!!s.missing),we(!!s.readTime);const r=nr(n,s.missing),i=Tn(s.readTime);return Pe.newNoDocument(r,i)}(t,e):q()}function $w(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,l){return c.D?(we(l===void 0||typeof l=="string"),He.fromBase64String(l||"")):(we(l===void 0||l instanceof Uint8Array),He.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=c.code===void 0?T.UNKNOWN:Ff(c.code);return new M(l,c.message||"")}(o);n=new Bf(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=nr(t,s.document.name),i=Tn(s.document.updateTime),o=new at({mapValue:{fields:s.document.fields}}),a=Pe.newFoundDocument(r,i,o),c=s.targetIds||[],l=s.removedTargetIds||[];n=new Mi(c,l,a.key,a)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=nr(t,s.document),i=s.readTime?Tn(s.readTime):re.min(),o=Pe.newNoDocument(r,i),a=s.removedTargetIds||[];n=new Mi([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=nr(t,s.document),i=s.removedTargetIds||[];n=new Mi([],i,r,null)}else{if(!("filter"in e))return q();{e.filter;const s=e.filter;s.targetId;const r=s.count||0,i=new Sw(r),o=s.targetId;n=new $f(o,i)}}return n}function Bw(t,e){let n;if(e instanceof ki)n={update:Wf(t,e.key,e.value)};else if(e instanceof Mf)n={delete:Fi(t,e.key)};else if(e instanceof Xn)n={update:Wf(t,e.key,e.data),updateMask:Yw(e.fieldMask)};else{if(!(e instanceof Lf))return q();n={verify:Fi(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof Ni)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Zs)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof er)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ri)return{fieldPath:i.field.canonicalString(),increment:o.C};throw q()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:Fw(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:q()}(t,e.precondition)),n}function jw(t,e){return{documents:[ic(t,e.path)]}}function qw(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=ic(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ic(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(a){if(a.length===0)return;const c=a.map(l=>function(u){if(u.op==="=="){if(gf(u.value))return{unaryFilter:{field:Jn(u.field),op:"IS_NAN"}};if(pf(u.value))return{unaryFilter:{field:Jn(u.field),op:"IS_NULL"}}}else if(u.op==="!="){if(gf(u.value))return{unaryFilter:{field:Jn(u.field),op:"IS_NOT_NAN"}};if(pf(u.value))return{unaryFilter:{field:Jn(u.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jn(u.field),op:Gw(u.op),value:u.value}}}(l));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);r&&(n.structuredQuery.where=r);const i=function(a){if(a.length!==0)return a.map(c=>function(l){return{field:Jn(l.field),direction:zw(l.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(a,c){return a.D||yn(c)?c:{value:c}}(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Yf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Yf(e.endAt)),n}function Hw(t){let e=Vw(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){we(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=Qf(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new Yn(Zn(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,yn(h)?null:h}(n.limit));let c=null;n.startAt&&(c=Xf(n.startAt));let l=null;return n.endAt&&(l=Xf(n.endAt)),yw(e,r,o,i,a,"F",c,l)}function Kw(t,e){const n=function(s,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return q()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function Qf(t){return t?t.unaryFilter!==void 0?[Qw(t)]:t.fieldFilter!==void 0?[Ww(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>Qf(e)).reduce((e,n)=>e.concat(n)):q():[]}function Yf(t){return{before:t.before,values:t.position}}function Xf(t){const e=!!t.before,n=t.values||[];return new Za(n,e)}function zw(t){return Pw[t]}function Gw(t){return Mw[t]}function Jn(t){return{fieldPath:t.canonicalString()}}function Zn(t){return ot.fromServerFormat(t.fieldPath)}function Ww(t){return tt.create(Zn(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(t.fieldFilter.op),t.fieldFilter.value)}function Qw(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Zn(t.unaryFilter.field);return tt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Zn(t.unaryFilter.field);return tt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zn(t.unaryFilter.field);return tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Zn(t.unaryFilter.field);return tt.create(r,"!=",{nullValue:"NULL_VALUE"});default:return q()}}function Yw(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Jf(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}const Xw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,s)=>{n(e)})}static reject(e){return new x((n,s)=>{s(e)})}static waitFor(e){return new x((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},c=>s(c))}),o=!0,i===r&&n()})}static or(e){let n=x.resolve(!1);for(const s of e)n=n.next(r=>r?x.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}}function sr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&Cw(i,e,s[r])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&nc(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&nc(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const s=e.get(n.key),r=s;this.applyToLocalView(r),s.isValidDocument()||r.convertToNoDocument(re.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&zn(this.mutations,e.mutations,(n,s)=>Df(n,s))&&zn(this.baseMutations,e.baseMutations,(n,s)=>Df(n,s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,s,r,i=re.min(),o=re.min(),a=He.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new bn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new bn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this.Wt=e}}function tE(t){const e=Hw({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ww(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.Gt=new sE}addToCollectionParentIndex(e,n){return this.Gt.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Gt.getEntries(n))}}class sE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new je(Te.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new je(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new es(0)}static ie(){return new es(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t){if(t.code!==T.FAILED_PRECONDITION||t.message!==Xw)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n])}else this.inner[s]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),!0;return!1}forEach(e){Gn(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return uf(this.inner)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.changes=new rr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:re.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:Pe.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?x.resolve(s.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n,s){this.He=e,this.In=n,this.Ht=s}An(e,n){return this.In.getAllMutationBatchesAffectingDocumentKey(e,n).next(s=>this.Rn(e,n,s))}Rn(e,n,s){return this.He.getEntry(e,n).next(r=>{for(const i of s)i.applyToLocalView(r);return r})}bn(e,n){e.forEach((s,r)=>{for(const i of n)i.applyToLocalView(r)})}Pn(e,n){return this.He.getEntries(e,n).next(s=>this.vn(e,s).next(()=>s))}vn(e,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>this.bn(n,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return H.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.Vn(e,n.path):vw(n)?this.Sn(e,n,s):this.Dn(e,n,s)}Vn(e,n){return this.An(e,new H(n)).next(s=>{let r=sc();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}Sn(e,n,s){const r=n.collectionGroup;let i=sc();return this.Ht.getCollectionParents(e,r).next(o=>x.forEach(o,a=>{const c=function(l,u){return new Xs(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(r));return this.Dn(e,c,s).next(l=>{l.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}Dn(e,n,s){let r,i;return this.He.getDocumentsMatchingQuery(e,n,s).next(o=>(r=o,this.In.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(i=o,this.Cn(e,i,r).next(a=>{r=a;for(const c of i)for(const l of c.mutations){const u=l.key;let h=r.get(u);h==null&&(h=Pe.newInvalidDocument(u),r=r.insert(u,h)),nc(l,h,c.localWriteTime),h.isFoundDocument()||(r=r.remove(u))}}))).next(()=>(r.forEach((o,a)=>{Ci(n,a)||(r=r.remove(o))}),r))}Cn(e,n,s){let r=Ee();for(const o of n)for(const a of o.mutations)a instanceof Xn&&s.get(a.key)===null&&(r=r.add(a.key));let i=s;return this.He.getEntries(e,r).next(o=>(o.forEach((a,c)=>{c.isFoundDocument()&&(i=i.insert(a,c))}),i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Nn=s,this.xn=r}static kn(e,n){let s=Ee(),r=Ee();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ac(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{$n(e){this.On=e}getDocumentsMatchingQuery(e,n,s,r){return function(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}(n)||s.isEqual(re.min())?this.Fn(e,n):this.On.Pn(e,r).next(i=>{const o=this.Mn(n,i);return(Ii(n)||_i(n))&&this.Ln(n.limitType,o,r,s)?this.Fn(e,n):(of()<=ie.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),tc(n)),this.On.getDocumentsMatchingQuery(e,n,s).next(a=>(o.forEach(c=>{a=a.insert(c.key,c)}),a)))})}Mn(e,n){let s=new je(If(e));return n.forEach((r,i)=>{Ci(e,i)&&(s=s.add(i))}),s}Ln(e,n,s,r){if(s.size!==n.size)return!0;const i=e==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,n){return of()<=ie.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",tc(n)),this.On.getDocumentsMatchingQuery(e,n,re.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,s,r){this.persistence=e,this.Bn=n,this.N=r,this.Un=new Ye(oe),this.qn=new rr(i=>Ya(i),Xa),this.Kn=re.min(),this.In=e.getMutationQueue(s),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Zf(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Un))}}function aE(t,e,n,s){return new oE(t,e,n,s)}async function ed(t,e){const n=Z(t);let s=n.In,r=n.Qn;const i=await n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.In.getAllMutationBatches(o).next(c=>(a=c,s=n.persistence.getMutationQueue(e),r=new Zf(n.jn,s,n.persistence.getIndexManager()),s.getAllMutationBatches(o))).next(c=>{const l=[],u=[];let h=Ee();for(const f of a){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of c){u.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return r.Pn(o,h).next(f=>({Wn:f,removedBatchIds:l,addedBatchIds:u}))})});return n.In=s,n.Qn=r,n.Bn.$n(n.Qn),i}function td(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ze.getLastRemoteSnapshotVersion(n))}function cE(t,e){const n=Z(t),s=e.snapshotVersion;let r=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.jn.newChangeBuffer({trackRemovals:!0});r=n.Un;const a=[];e.targetChanges.forEach((l,u)=>{const h=r.get(u);if(!h)return;a.push(n.ze.removeMatchingKeys(i,l.removedDocuments,u).next(()=>n.ze.addMatchingKeys(i,l.addedDocuments,u)));const f=l.resumeToken;if(f.approximateByteSize()>0){const g=h.withResumeToken(f,s).withSequenceNumber(i.currentSequenceNumber);r=r.insert(u,g),function(y,R,I){return we(R.resumeToken.approximateByteSize()>0),y.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(h,g,l)&&a.push(n.ze.updateTargetData(i,g))}});let c=En();if(e.documentUpdates.forEach((l,u)=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,l))}),a.push(lE(i,o,e.documentUpdates,s,void 0).next(l=>{c=l})),!s.isEqual(re.min())){const l=n.ze.getLastRemoteSnapshotVersion(i).next(u=>n.ze.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(l)}return x.waitFor(a).next(()=>o.apply(i)).next(()=>n.Qn.vn(i,c)).next(()=>c)}).then(i=>(n.Un=r,i))}function lE(t,e,n,s,r){let i=Ee();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let a=En();return n.forEach((c,l)=>{const u=o.get(c),h=(r==null?void 0:r.get(c))||s;l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(c,h),a=a.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l,h),a=a.insert(c,l)):B("LocalStore","Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)}),a})}function uE(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.ze.getTargetData(s,e).next(i=>i?(r=i,x.resolve(r)):n.ze.allocateTargetId(s).next(o=>(r=new bn(e,o,0,s.currentSequenceNumber),n.ze.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Un.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(s.targetId,s),n.qn.set(e,s.targetId)),s})}async function cc(t,e,n){const s=Z(t),r=s.Un.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!sr(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Un=s.Un.remove(e),s.qn.delete(r.target)}function nd(t,e,n){const s=Z(t);let r=re.min(),i=Ee();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=Z(a),h=u.qn.get(l);return h!==void 0?x.resolve(u.Un.get(h)):u.ze.getTargetData(c,l)}(s,o,wn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>s.Bn.getDocumentsMatchingQuery(o,e,n?r:re.min(),n?i:Ee())).next(a=>({documents:a,Gn:i})))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return x.resolve(this.Yn.get(n))}saveBundleMetadata(e,n){var s;return this.Yn.set(n.id,{id:(s=n).id,version:s.version,createTime:Tn(s.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(s){return{name:s.name,query:tE(s.bundledQuery),readTime:Tn(s.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.Zn=new je(Me.ts),this.es=new je(Me.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const s=new Me(e,n);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.rs(new Me(e,n))}os(e,n){e.forEach(s=>this.removeReference(s,n))}cs(e){const n=new H(new Te([])),s=new Me(n,e),r=new Me(n,e+1),i=[];return this.es.forEachInRange([s,r],o=>{this.rs(o),i.push(o.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new H(new Te([])),s=new Me(n,e),r=new Me(n,e+1);let i=Ee();return this.es.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Me(e,0),s=this.Zn.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return H.comparator(e.key,n.key)||oe(e.ls,n.ls)}static ns(e,n){return oe(e.ls,n.ls)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){this.Ht=e,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new je(Me.ts)}checkEmpty(e){return x.resolve(this.In.length===0)}addMutationBatch(e,n,s,r){const i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];const o=new Zw(i,n,s,r);this.In.push(o);for(const a of r)this.ds=this.ds.add(new Me(a.key,i)),this.Ht.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this._s(s),i=r<0?0:r;return x.resolve(this.In.length>i?this.In[i]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.In.length===0?-1:this.fs-1)}getAllMutationBatches(e){return x.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Me(n,0),r=new Me(n,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([s,r],o=>{const a=this.ws(o.ls);i.push(a)}),x.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new je(oe);return n.forEach(r=>{const i=new Me(r,0),o=new Me(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([i,o],a=>{s=s.add(a.ls)})}),x.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;H.isDocumentKey(i)||(i=i.child(""));const o=new Me(new H(i),0);let a=new je(oe);return this.ds.forEachWhile(c=>{const l=c.key.path;return!!s.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.ls)),!0)},o),x.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(s=>{const r=this.ws(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){we(this.ys(n.batchId,"removed")===0),this.In.shift();let s=this.ds;return x.forEach(n.mutations,r=>{const i=new Me(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=s})}te(e){}containsKey(e,n){const s=new Me(n,0),r=this.ds.firstAfterOrEqual(s);return x.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.In.length,x.resolve()}ys(e,n){return this._s(e)}_s(e){return this.In.length===0?0:e-this.In[0].batchId}ws(e){const n=this._s(e);return n<0||n>=this.In.length?null:this.In[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n){this.Ht=e,this.ps=n,this.docs=new Ye(H.comparator),this.size=0}addEntry(e,n,s){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ps(n);return this.docs=this.docs.insert(r,{document:n.clone(),size:a,readTime:s}),this.size+=a-o,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return x.resolve(s?s.document.clone():Pe.newInvalidDocument(n))}getEntries(e,n){let s=En();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.clone():Pe.newInvalidDocument(r))}),x.resolve(s)}getDocumentsMatchingQuery(e,n,s){let r=En();const i=new H(n.path.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:c,readTime:l}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;l.compareTo(s)<=0||Ci(n,c)&&(r=r.insert(c.key,c.clone()))}return x.resolve(r)}Ts(e,n){return x.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new pE(this)}getSize(e){return x.resolve(this.size)}}class pE extends rE{constructor(e){super(),this.Se=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.document.isValidDocument()?n.push(this.Se.addEntry(e,r.document,this.getReadTime(s))):this.Se.removeEntry(s)}),x.waitFor(n)}getFromCache(e,n){return this.Se.getEntry(e,n)}getAllFromCache(e,n){return this.Se.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.persistence=e,this.Es=new rr(n=>Ya(n),Xa),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Is=0,this.As=new lc,this.targetCount=0,this.Rs=es.se()}forEachTarget(e,n){return this.Es.forEach((s,r)=>n(r)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Is&&(this.Is=n),x.resolve()}ae(e){this.Es.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new es(n),this.highestTargetId=n),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,n){return this.ae(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.ae(n),x.resolve()}removeTargetData(e,n){return this.Es.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.Es.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.Es.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),x.waitFor(i).next(()=>r)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const s=this.Es.get(n)||null;return x.resolve(s)}addMatchingKeys(e,n,s){return this.As.ss(n,s),x.resolve()}removeMatchingKeys(e,n,s){this.As.os(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),x.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.As.cs(n),x.resolve()}getMatchingKeysForTargetId(e,n){const s=this.As.hs(n);return x.resolve(s)}containsKey(e,n){return x.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n){this.bs={},this.Le=new Ha(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new gE(this),this.Ht=new nE,this.He=function(s,r){return new dE(s,r)}(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new eE(n),this.Je=new hE(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let n=this.bs[e.toKey()];return n||(n=new fE(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,n,s){B("MemoryPersistence","Starting transaction:",e);const r=new yE(this.Le.next());return this.referenceDelegate.vs(),s(r).next(i=>this.referenceDelegate.Vs(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ss(e,n){return x.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,n)))}}class yE extends Jw{constructor(e){super(),this.currentSequenceNumber=e}}class uc{constructor(e){this.persistence=e,this.Ds=new lc,this.Cs=null}static Ns(e){return new uc(e)}get xs(){if(this.Cs)return this.Cs;throw q()}addReference(e,n,s){return this.Ds.addReference(s,n),this.xs.delete(s.toString()),x.resolve()}removeReference(e,n,s){return this.Ds.removeReference(s,n),this.xs.add(s.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),x.resolve()}removeTarget(e,n){this.Ds.cs(n.targetId).forEach(r=>this.xs.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.xs.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}vs(){this.Cs=new Set}Vs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.xs,s=>{const r=H.fromPath(s);return this.ks(e,r).next(i=>{i||n.removeEntry(r)})}).next(()=>(this.Cs=null,n.apply(e)))}updateLimboDocument(e,n){return this.ks(e,n).next(s=>{s?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(e){return 0}ks(e,n){return x.or([()=>x.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ss(e,n)])}}class sd{constructor(){this.activeTargetIds=Uf()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vE{constructor(){this.yi=new sd,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,n,s){this.pi[e]=n}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new sd,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{Ti(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.Fi=n+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,n,s,r){const i=this.Bi(e,n);B("RestConnection","Sending: ",i,s);const o={};return this.Ui(o,r),this.qi(e,i,o,s).then(a=>(B("RestConnection","Received: ",a),a),a=>{throw af("RestConnection",`${e} failed with error: `,a,"url: ",i,"request:",s),a})}Ki(e,n,s,r){return this.Li(e,n,s,r)}Ui(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Kn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const s in n.authHeaders)n.authHeaders.hasOwnProperty(s)&&(e[s]=n.authHeaders[s])}Bi(e,n){const s=EE[e];return`${this.Fi}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,n,s,r){return new Promise((i,o)=>{const a=new Yv;a.listenOnce(Gv.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case ja.NO_ERROR:const l=a.getResponseJson();B("Connection","XHR received:",JSON.stringify(l)),i(l);break;case ja.TIMEOUT:B("Connection",'RPC "'+e+'" timed out'),o(new M(T.DEADLINE_EXCEEDED,"Request time out"));break;case ja.HTTP_ERROR:const u=a.getStatus();if(B("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(y)>=0?y:T.UNKNOWN}(h.status);o(new M(f,h.message))}else o(new M(T.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new M(T.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{B("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(r);a.send(n,"POST",c,s,15)})}ji(e,n){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Kv(),i=zv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Qv({})),this.Ui(o.initMessageHeaders,n),Hm()||zm()||Gm()||Wm()||Qm()||Km()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=s.join("");B("Connection","Creating WebChannel: "+a,o);const c=r.createWebChannel(a,o);let l=!1,u=!1;const h=new TE({vi:g=>{u?B("Connection","Not sending because WebChannel is closed:",g):(l||(B("Connection","Opening WebChannel transport."),c.open(),l=!0),B("Connection","WebChannel sending:",g),c.send(g))},Vi:()=>c.close()}),f=(g,y,R)=>{g.listen(y,I=>{try{R(I)}catch(N){setTimeout(()=>{throw N},0)}})};return f(c,wi.EventType.OPEN,()=>{u||B("Connection","WebChannel transport opened.")}),f(c,wi.EventType.CLOSE,()=>{u||(u=!0,B("Connection","WebChannel transport closed"),h.$i())}),f(c,wi.EventType.ERROR,g=>{u||(u=!0,af("Connection","WebChannel transport errored:",g),h.$i(new M(T.UNAVAILABLE,"The operation could not be completed")))}),f(c,wi.EventType.MESSAGE,g=>{var y;if(!u){const R=g.data[0];we(!!R);const I=R,N=I.error||((y=I[0])===null||y===void 0?void 0:y.error);if(N){B("Connection","WebChannel received error:",N);const $=N.status;let G=function(ge){const be=Re[ge];if(be!==void 0)return Ff(be)}($),W=N.message;G===void 0&&(G=T.INTERNAL,W="Unknown error status: "+$+" with message "+N.message),u=!0,h.$i(new M(G,W)),c.close()}else B("Connection","WebChannel received:",R),h.Oi(R)}}),f(i,Wv.STAT_EVENT,g=>{g.stat===sf.PROXY?B("Connection","Detected buffering proxy"):g.stat===sf.NOPROXY&&B("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.ki()},0),h}}function hc(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t){return new Lw(t,!0)}class fc{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=n,this.Qi=s,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const n=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),r=Math.max(0,n-s);r>0&&B("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){this.Hi!==null&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){this.Hi!==null&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n,s,r,i,o){this.Oe=e,this.er=s,this.nr=r,this.credentialsProvider=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new fc(e,n)}ar(){return this.state===1||this.state===2||this.state===4}cr(){return this.state===2}start(){this.state!==3?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&this.ir===null&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(e,n){this._r(),this.rr.cancel(),this.sr++,e!==3?this.rr.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(Ht(n.toString()),Ht("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):n&&n.code===T.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),this.stream!==null&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(n)}mr(){}auth(){this.state=1;const e=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===n&&this.yr(s)},s=>{e(()=>{const r=new M(T.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(r)})})}yr(e){const n=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{n(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{n(()=>this.pr(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}ur(){this.state=4,this.rr.Xi(async()=>{this.state=0,this.start()})}pr(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return n=>{this.Oe.enqueueAndForget(()=>this.sr===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _E extends IE{constructor(e,n,s,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",n,s,i),this.N=r}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const n=$w(this.N,e),s=function(r){if(!("targetChange"in r))return re.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?re.min():i.readTime?Tn(i.readTime):re.min()}(e);return this.listener.Er(n,s)}Ir(e){const n={};n.database=Vi(this.N),n.addTarget=function(r,i){let o;const a=i.target;return o=Ja(a)?{documents:jw(r,a)}:{query:qw(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=Kf(r,i.resumeToken):i.snapshotVersion.compareTo(re.min())>0&&(o.readTime=Li(r,i.snapshotVersion.toTimestamp())),o}(this.N,e);const s=Kw(this.N,e);s&&(n.labels=s),this.wr(n)}Ar(e){const n={};n.database=Vi(this.N),n.removeTarget=e,this.wr(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE extends class{}{constructor(e,n,s){super(),this.credentials=e,this.nr=n,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new M(T.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,n,s){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Li(e,n,s,r)).catch(r=>{throw r.name==="FirebaseError"?(r.code===T.UNAUTHENTICATED&&this.credentials.invalidateToken(),r):new M(T.UNKNOWN,r.toString())})}Ki(e,n,s){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Ki(e,n,s,r)).catch(r=>{throw r.name==="FirebaseError"?(r.code===T.UNAUTHENTICATED&&this.credentials.invalidateToken(),r):new M(T.UNKNOWN,r.toString())})}terminate(){this.Dr=!0}}class CE{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){this.Nr===0&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){this.state==="Online"?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,e==="Online"&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Ht(n),this.$r=!1):B("OnlineStateTracker",n)}Br(){this.kr!==null&&(this.kr.cancel(),this.kr=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ti(o=>{s.enqueueAndForget(async()=>{or(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=Z(a);c.Kr.add(4),await ir(c),c.Wr.set("Unknown"),c.Kr.delete(4),await $i(c)}(this))})}),this.Wr=new CE(s,r)}}async function $i(t){if(or(t))for(const e of t.jr)await e(!0)}async function ir(t){for(const e of t.jr)await e(!1)}function id(t,e){const n=Z(t);n.qr.has(e.targetId)||(n.qr.set(e.targetId,e),gc(n)?pc(n):ts(n).cr()&&dc(n,e))}function od(t,e){const n=Z(t),s=ts(n);n.qr.delete(e),s.cr()&&ad(n,e),n.qr.size===0&&(s.cr()?s.lr():or(n)&&n.Wr.set("Unknown"))}function dc(t,e){t.Gr.Y(e.targetId),ts(t).Ir(e)}function ad(t,e){t.Gr.Y(e),ts(t).Ar(e)}function pc(t){t.Gr=new Ow({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.qr.get(e)||null}),ts(t).start(),t.Wr.Or()}function gc(t){return or(t)&&!ts(t).ar()&&t.qr.size>0}function or(t){return Z(t).Kr.size===0}function cd(t){t.Gr=void 0}async function NE(t){t.qr.forEach((e,n)=>{dc(t,e)})}async function RE(t,e){cd(t),gc(t)?(t.Wr.Lr(e),pc(t)):t.Wr.set("Unknown")}async function DE(t,e,n){if(t.Wr.set("Online"),e instanceof Bf&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.qr.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.qr.delete(o),s.Gr.removeTarget(o))}(t,e)}catch(s){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ld(t,s)}else if(e instanceof Mi?t.Gr.rt(e):e instanceof $f?t.Gr.ft(e):t.Gr.ct(e),!n.isEqual(re.min()))try{const s=await td(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.Gr._t(i);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.qr.get(c);l&&r.qr.set(c,l.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const c=r.qr.get(a);if(!c)return;r.qr.set(a,c.withResumeToken(He.EMPTY_BYTE_STRING,c.snapshotVersion)),ad(r,a);const l=new bn(c.target,a,1,c.sequenceNumber);dc(r,l)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){B("RemoteStore","Failed to raise snapshot:",s),await ld(t,s)}}async function ld(t,e,n){if(!sr(e))throw e;t.Kr.add(1),await ir(t),t.Wr.set("Offline"),n||(n=()=>td(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),t.Kr.delete(1),await $i(t)})}async function xE(t,e){const n=Z(t);e?(n.Kr.delete(2),await $i(n)):e||(n.Kr.add(2),await ir(n),n.Wr.set("Unknown"))}function ts(t){return t.zr||(t.zr=function(e,n,s){const r=Z(e);return r.Cr(),new _E(n,r.nr,r.credentials,r.N,s)}(t.datastore,t.asyncQueue,{Si:NE.bind(null,t),Ci:RE.bind(null,t),Er:DE.bind(null,t)}),t.jr.push(async e=>{e?(t.zr.hr(),gc(t)?pc(t):t.Wr.set("Unknown")):(await t.zr.stop(),cd(t))})),t.zr}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new mc(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new M(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ud(t,e){if(Ht("AsyncQueue",`${e}: ${t}`),sr(t))return new M(T.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.comparator=e?(n,s)=>e(n,s)||H.comparator(n.key,s.key):(n,s)=>H.comparator(n.key,s.key),this.keyedMap=sc(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new ns(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ns)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ns;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this.Jr=new Ye(H.comparator)}track(e){const n=e.doc.key,s=this.Jr.get(n);s?e.type!==0&&s.type===3?this.Jr=this.Jr.insert(n,e):e.type===3&&s.type!==1?this.Jr=this.Jr.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Jr=this.Jr.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Jr=this.Jr.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Jr=this.Jr.remove(n):e.type===1&&s.type===2?this.Jr=this.Jr.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Jr=this.Jr.insert(n,{type:2,doc:e.doc}):q():this.Jr=this.Jr.insert(n,e)}Yr(){const e=[];return this.Jr.inorderTraversal((n,s)=>{e.push(s)}),e}}class ss{constructor(e,n,s,r,i,o,a,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c}static fromInitialDocuments(e,n,s,r){const i=[];return n.forEach(o=>{i.push({type:0,doc:o})}),new ss(e,n,ns.emptySet(n),i,s,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ai(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.Xr=void 0,this.listeners=[]}}class OE{constructor(){this.queries=new rr(e=>bf(e),Ai),this.onlineState="Unknown",this.Zr=new Set}}async function fd(t,e){const n=Z(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new kE),r)try{i.Xr=await n.onListen(s)}catch(o){const a=ud(o,`Initialization of query '${tc(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.eo(n.onlineState),i.Xr&&e.no(i.Xr)&&yc(n)}async function dd(t,e){const n=Z(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function PE(t,e){const n=Z(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.no(r)&&(s=!0);o.Xr=r}}s&&yc(n)}function ME(t,e,n){const s=Z(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function yc(t){t.Zr.forEach(e=>{e.next()})}class pd{constructor(e,n,s){this.query=e,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new ss(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.io?this.oo(e)&&(this.so.next(e),n=!0):this.ao(e,this.onlineState)&&(this.co(e),n=!0),this.ro=e,n}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let n=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),n=!0),n}ao(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.uo||!s)&&(!e.docs.isEmpty()||n==="Offline")}oo(e){if(e.docChanges.length>0)return!0;const n=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}co(e){e=ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.key=e}}class md{constructor(e){this.key=e}}class LE{constructor(e,n){this.query=e,this._o=n,this.mo=null,this.current=!1,this.yo=Ee(),this.mutatedKeys=Ee(),this.po=If(e),this.To=new ns(this.po)}get Eo(){return this._o}Io(e,n){const s=n?n.Ao:new hd,r=n?n.To:this.To;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const c=Ii(this.query)&&r.size===this.query.limit?r.last():null,l=_i(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const f=r.get(u),g=Ci(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),R=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;f&&g?f.data.isEqual(g.data)?y!==R&&(s.track({type:3,doc:g}),I=!0):this.Ro(f,g)||(s.track({type:2,doc:g}),I=!0,(c&&this.po(g,c)>0||l&&this.po(g,l)<0)&&(a=!0)):!f&&g?(s.track({type:0,doc:g}),I=!0):f&&!g&&(s.track({type:1,doc:f}),I=!0,(c||l)&&(a=!0)),I&&(g?(o=o.add(g),i=R?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),Ii(this.query)||_i(this.query))for(;o.size>this.query.limit;){const u=Ii(this.query)?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{To:o,Ao:s,Ln:a,mutatedKeys:i}}Ro(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort((l,u)=>function(h,f){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return g(h)-g(f)}(l.type,u.type)||this.po(l.doc,u.doc)),this.bo(s);const o=n?this.Po():[],a=this.yo.size===0&&this.current?1:0,c=a!==this.mo;return this.mo=a,i.length!==0||c?{snapshot:new ss(this.query,e.To,r,i,e.mutatedKeys,a===0,c,!1),vo:o}:{vo:o}}eo(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({To:this.To,Ao:new hd,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(n=>this._o=this._o.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this._o=this._o.delete(n)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=Ee(),this.To.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const n=[];return e.forEach(s=>{this.yo.has(s)||n.push(new md(s))}),this.yo.forEach(s=>{e.has(s)||n.push(new gd(s))}),n}So(e){this._o=e.Gn,this.yo=Ee();const n=this.Io(e.documents);return this.applyChanges(n,!0)}Do(){return ss.fromInitialDocuments(this.query,this.To,this.mutatedKeys,this.mo===0)}}class FE{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class VE{constructor(e){this.key=e,this.Co=!1}}class UE{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.No={},this.xo=new rr(a=>bf(a),Ai),this.ko=new Map,this.$o=new Set,this.Oo=new Ye(H.comparator),this.Fo=new Map,this.Mo=new lc,this.Lo={},this.Bo=new Map,this.Uo=es.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return this.qo===!0}}async function $E(t,e){const n=GE(t);let s,r;const i=n.xo.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.Do();else{const o=await uE(n.localStore,wn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await BE(n,e,s,a==="current"),n.isPrimaryClient&&id(n.remoteStore,o)}return r}async function BE(t,e,n,s){t.Ko=(u,h,f)=>async function(g,y,R,I){let N=y.view.Io(R);N.Ln&&(N=await nd(g.localStore,y.query,!1).then(({documents:W})=>y.view.Io(W,N)));const $=I&&I.targetChanges.get(y.targetId),G=y.view.applyChanges(N,g.isPrimaryClient,$);return Ed(g,y.targetId,G.vo),G.snapshot}(t,u,h,f);const r=await nd(t.localStore,e,!0),i=new LE(e,r.Gn),o=i.Io(r.documents),a=tr.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline"),c=i.applyChanges(o,t.isPrimaryClient,a);Ed(t,n,c.vo);const l=new FE(e,n,i);return t.xo.set(e,l),t.ko.has(n)?t.ko.get(n).push(e):t.ko.set(n,[e]),c.snapshot}async function jE(t,e){const n=Z(t),s=n.xo.get(e),r=n.ko.get(s.targetId);if(r.length>1)return n.ko.set(s.targetId,r.filter(i=>!Ai(i,e))),void n.xo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await cc(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),od(n.remoteStore,s.targetId),vc(n,s.targetId)}).catch(oc)):(vc(n,s.targetId),await cc(n.localStore,s.targetId,!0))}async function yd(t,e){const n=Z(t);try{const s=await cE(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.Fo.get(i);o&&(we(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Co=!0:r.modifiedDocuments.size>0?we(o.Co):r.removedDocuments.size>0&&(we(o.Co),o.Co=!1))}),await Td(n,s,e)}catch(s){await oc(s)}}function vd(t,e,n){const s=Z(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.xo.forEach((i,o)=>{const a=o.view.eo(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=Z(i);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const h of u.listeners)h.eo(o)&&(c=!0)}),c&&yc(a)}(s.eventManager,e),r.length&&s.No.Er(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function qE(t,e,n){const s=Z(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Fo.get(e),i=r&&r.key;if(i){let o=new Ye(H.comparator);o=o.insert(i,Pe.newNoDocument(i,re.min()));const a=Ee().add(i),c=new Pi(re.min(),new Map,new je(oe),o,a);await yd(s,c),s.Oo=s.Oo.remove(i),s.Fo.delete(e),wc(s)}else await cc(s.localStore,e,!1).then(()=>vc(s,e,n)).catch(oc)}function vc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.ko.get(e))t.xo.delete(s),n&&t.No.jo(s,n);t.ko.delete(e),t.isPrimaryClient&&t.Mo.cs(e).forEach(s=>{t.Mo.containsKey(s)||wd(t,s)})}function wd(t,e){t.$o.delete(e.path.canonicalString());const n=t.Oo.get(e);n!==null&&(od(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.Fo.delete(n),wc(t))}function Ed(t,e,n){for(const s of n)s instanceof gd?(t.Mo.addReference(s.key,e),HE(t,s)):s instanceof md?(B("SyncEngine","Document no longer in limbo: "+s.key),t.Mo.removeReference(s.key,e),t.Mo.containsKey(s.key)||wd(t,s.key)):q()}function HE(t,e){const n=e.key,s=n.path.canonicalString();t.Oo.get(n)||t.$o.has(s)||(B("SyncEngine","New document in limbo: "+n),t.$o.add(s),wc(t))}function wc(t){for(;t.$o.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){const e=t.$o.values().next().value;t.$o.delete(e);const n=new H(Te.fromString(e)),s=t.Uo.next();t.Fo.set(s,new VE(n)),t.Oo=t.Oo.insert(n,s),id(t.remoteStore,new bn(wn(ec(n.path)),s,2,Ha.T))}}async function Td(t,e,n){const s=Z(t),r=[],i=[],o=[];s.xo.isEmpty()||(s.xo.forEach((a,c)=>{o.push(s.Ko(c,e,n).then(l=>{if(l){s.isPrimaryClient&&s.sharedClientState.updateQueryState(c.targetId,l.fromCache?"not-current":"current"),r.push(l);const u=ac.kn(c.targetId,l);i.push(u)}}))}),await Promise.all(o),s.No.Er(r),await async function(a,c){const l=Z(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>x.forEach(c,h=>x.forEach(h.Nn,f=>l.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>x.forEach(h.xn,f=>l.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!sr(u))throw u;B("LocalStore","Failed to update sequence numbers: "+u)}for(const u of c){const h=u.targetId;if(!u.fromCache){const f=l.Un.get(h),g=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(g);l.Un=l.Un.insert(h,y)}}}(s.localStore,i))}async function KE(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const s=await ed(n.localStore,e);n.currentUser=e,function(r,i){r.Bo.forEach(o=>{o.forEach(a=>{a.reject(new M(T.CANCELLED,i))})}),r.Bo.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Td(n,s.Wn)}}function zE(t,e){const n=Z(t),s=n.Fo.get(e);if(s&&s.Co)return Ee().add(s.key);{let r=Ee();const i=n.ko.get(e);if(!i)return r;for(const o of i){const a=n.xo.get(o);r=r.unionWith(a.view.Eo)}return r}}function GE(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qE.bind(null,e),e.No.Er=PE.bind(null,e.eventManager),e.No.jo=ME.bind(null,e.eventManager),e}class WE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=Ui(e.databaseInfo.databaseId),this.sharedClientState=this.Wo(e),this.persistence=this.Go(e),await this.persistence.start(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e)}zo(e){return null}Ho(e){return aE(this.persistence,new iE,e.initialUser,this.N)}Go(e){return new mE(uc.Ns,this.N)}Wo(e){return new vE}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class QE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vd(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KE.bind(null,this.syncEngine),await xE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new OE}createDatastore(e){const n=Ui(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new bE(r));var r;return function(i,o,a){return new AE(i,o,a)}(e.credentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>vd(this.syncEngine,a,0),o=rd.bt()?new rd:new wE,new SE(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,c,l){const u=new UE(s,r,i,o,a,c);return l&&(u.qo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Z(e);B("RemoteStore","RemoteStore shutting down."),n.Kr.add(5),await ir(n),n.Qr.shutdown(),n.Wr.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new M(T.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(s,r){const i=Z(s),o=Vi(i.N)+"/documents",a={documents:r.map(h=>Fi(i.N,h))},c=await i.Ki("BatchGetDocuments",o,a),l=new Map;c.forEach(h=>{const f=Uw(i.N,h);l.set(f.key.toString(),f)});const u=[];return r.forEach(h=>{const f=l.get(h.toString());we(!!f),u.push(f)}),u}(this.datastore,e);return n.forEach(s=>this.recordVersion(s)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,s)=>{const r=H.fromPath(s);this.mutations.push(new Lf(r,this.precondition(r)))}),await async function(n,s){const r=Z(n),i=Vi(r.N)+"/documents",o={writes:s.map(a=>Bw(r.N,a))};await r.Li("Commit",i,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw q();n=re.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new M(T.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Gt.updateTime(n):Gt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(re.min()))throw new M(T.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gt.updateTime(n)}return Gt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,s,r){this.asyncQueue=e,this.datastore=n,this.updateFunction=s,this.deferred=r,this.aa=5,this.rr=new fc(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){this.rr.Xi(async()=>{const e=new YE(this.datastore),n=this.ua(e);n&&n.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(r=>{this.ha(r)}))}).catch(s=>{this.ha(s)})})}ua(e){try{const n=this.updateFunction(e);return!yn(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||!Nw(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,s){this.credentials=e,this.asyncQueue=n,this.databaseInfo=s,this.user=et.UNAUTHENTICATED,this.clientId=cf.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,async r=>{B("FirestoreClient","Received user=",r.uid),await this.credentialListener(r),this.user=r})}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(n){const s=ud(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ZE(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await ed(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function e0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await t0(t);B("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>async function(i,o){const a=Z(i);a.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const c=or(a);a.Kr.add(3),await ir(a),c&&a.Wr.set("Unknown"),await a.remoteSyncer.handleCredentialChange(o),a.Kr.delete(3),await $i(a)}(e.remoteStore,r)),t.onlineComponents=e}async function t0(t){return t.offlineComponents||(B("FirestoreClient","Using default OfflineComponentProvider"),await ZE(t,new WE)),t.offlineComponents}async function Id(t){return t.onlineComponents||(B("FirestoreClient","Using default OnlineComponentProvider"),await e0(t,new QE)),t.onlineComponents}async function Ec(t){const e=await Id(t),n=e.eventManager;return n.onListen=$E.bind(null,e.syncEngine),n.onUnlisten=jE.bind(null,e.syncEngine),n}function n0(t,e,n={}){const s=new Kt;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,c){const l=new bd({next:h=>{i.enqueueAndForget(()=>dd(r,u)),h.fromCache&&a.source==="server"?c.reject(new M(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),u=new pd(o,l,{includeMetadataChanges:!0,uo:!0});return fd(r,u)}(await Ec(t),t.asyncQueue,e,n,s)),s.promise}function s0(t,e){const n=new Kt;return t.asyncQueue.enqueueAndForget(async()=>{const s=await function(r){return Id(r).then(i=>i.datastore)}(t);new XE(t.asyncQueue,s,e,n).run()}),n.promise}class r0{constructor(e,n,s,r,i,o,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class ar{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ar&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t,e,n){if(!n)throw new M(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i0(t,e,n,s){if(e===!0&&s===!0)throw new M(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cd(t){if(!H.isDocumentKey(t))throw new M(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sd(t){if(H.isDocumentKey(t))throw new M(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new M(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tc(t);throw new M(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new M(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new M(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,i0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nd({}),this._settingsFrozen=!1,e instanceof ar?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new M(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ar(s.options.projectId)}(e))}get app(){if(!this._app)throw new M(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new M(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nd(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new Jv;switch(n.type){case"gapi":const s=n.client;return we(!(typeof s!="object"||s===null||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new tw(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new M(T.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=_d.get(e);n&&(B("ComponentProvider","Removing Datastore"),_d.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wt(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ct(this.firestore,e,this._key)}}class rs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class Wt extends rs{constructor(e,n,s){super(e,n,ec(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new H(e))}withConverter(e){return new Wt(this.firestore,e,this._path)}}function $T(t,e,...n){if(t=At(t),Ad("collection","path",e),t instanceof bc){const s=Te.fromString(e,...n);return Sd(s),new Wt(t,null,s)}{if(!(t instanceof ct||t instanceof Wt))throw new M(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Te.fromString(e,...n));return Sd(s),new Wt(t.firestore,null,s)}}function BT(t,e,...n){if(t=At(t),arguments.length===1&&(e=cf.I()),Ad("doc","path",e),t instanceof bc){const s=Te.fromString(e,...n);return Cd(s),new ct(t,null,new H(s))}{if(!(t instanceof ct||t instanceof Wt))throw new M(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Te.fromString(e,...n));return Cd(s),new ct(t.firestore,t instanceof Wt?t.converter:null,new H(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new fc(this,"async_queue_retry"),this.Ta=()=>{const n=hc();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.rr.tr()};const e=hc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const n=hc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const n=new Kt;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}async Aa(){if(this.da.length!==0){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(e){if(!sr(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.da.length>0&&this.rr.Xi(()=>this.Aa())}}Ia(e){const n=this.fa.then(()=>(this.ga=!0,e().catch(s=>{this.ma=s,this.ga=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw Ht("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.ga=!1,s))));return this.fa=n,n}enqueueAfterDelay(e,n,s){this.Ea(),this.pa.indexOf(e)>-1&&(n=0);const r=mc.createAndSchedule(this,e,n,s,i=>this.Ra(i));return this._a.push(r),r}Ea(){this.ma&&q()}verifyOperationInProgress(){}async ba(){let e;do e=this.fa,await e;while(e!==this.fa)}Pa(e){for(const n of this._a)if(n.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this._a)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const n=this._a.indexOf(e);this._a.splice(n,1)}}function Rd(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const r of n)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Bi extends bc{constructor(e,n){super(e,n),this.type="firestore",this._queue=new o0,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Dd(this),this._firestoreClient.terminate()}}function jT(t=$y()){return Ly(t,"firestore").getImmediate()}function Ic(t){return t._firestoreClient||Dd(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Dd(t){var e;const n=t._freezeSettings(),s=function(r,i,o,a){return new r0(r,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new JE(t._credentials,t._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new M(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(He.fromBase64String(e))}catch(n){throw new M(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new In(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new M(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new M(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=/^__.*__$/;class c0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ki(e,this.data,n,this.fieldTransforms)}}class xd{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Xn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}class Cc{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.N=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new Cc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Ca({path:s,xa:!1});return r.ka(e),r}$a(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Ca({path:s,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return Ki(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(e.length===0)throw this.Fa("Document fields must not be empty");if(kd(this.Da)&&a0.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class l0{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.N=s||Ui(e)}Ba(e,n,s,r=!1){return new Cc({Da:e,methodName:n,La:s,path:ot.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function u0(t){const e=t._freezeSettings(),n=Ui(t._databaseId);return new l0(t._databaseId,!!e.ignoreUndefinedProperties,n)}function h0(t,e,n,s,r,i={}){const o=t.Ba(i.merge||i.mergeFields?2:0,e,n,r);Sc("Data must be an object, but it was:",o,s);const a=Od(s,o);let c,l;if(i.merge)c=new Ei(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=Nc(e,h,n);if(!o.contains(f))throw new M(T.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Md(u,f)||u.push(f)}c=new Ei(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new c0(new at(a),c,l)}class qi extends _c{_toFieldTransform(e){if(e.Da!==2)throw e.Da===1?e.Fa(`${this._methodName}() can only appear at the top level of your update data`):e.Fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qi}}function f0(t,e,n,s){const r=t.Ba(1,e,n);Sc("Data must be an object, but it was:",r,s);const i=[],o=at.empty();Gn(s,(c,l)=>{const u=Rc(e,c,n);l=At(l);const h=r.$a(u);if(l instanceof qi)i.push(u);else{const f=Hi(l,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new Ei(i);return new xd(o,a,r.fieldTransforms)}function d0(t,e,n,s,r,i){const o=t.Ba(1,e,n),a=[Nc(e,s,n)],c=[r];if(i.length%2!=0)throw new M(T.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Nc(e,i[f])),c.push(i[f+1]);const l=[],u=at.empty();for(let f=a.length-1;f>=0;--f)if(!Md(l,a[f])){const g=a[f];let y=c[f];y=At(y);const R=o.$a(g);if(y instanceof qi)l.push(g);else{const I=Hi(y,R);I!=null&&(l.push(g),u.set(g,I))}}const h=new Ei(l);return new xd(u,h,o.fieldTransforms)}function Hi(t,e){if(Pd(t=At(t)))return Sc("Unsupported field value:",e,t),Od(t,e);if(t instanceof _c)return function(n,s){if(!kd(s.Da))throw s.Fa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xa&&e.Da!==4)throw e.Fa("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=Hi(o,s.Oa(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=At(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Tw(s.N,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=pt.fromDate(n);return{timestampValue:Li(s.N,r)}}if(n instanceof pt){const r=new pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Li(s.N,r)}}if(n instanceof Ac)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof In)return{bytesValue:Kf(s.N,n._byteString)};if(n instanceof ct){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s.Fa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:rc(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.Fa(`Unsupported field value: ${Tc(n)}`)}(t,e)}function Od(t,e){const n={};return uf(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gn(t,(s,r)=>{const i=Hi(r,e.Na(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Pd(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof Ac||t instanceof In||t instanceof ct||t instanceof _c)}function Sc(t,e,n){if(!Pd(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=Tc(n);throw s==="an object"?e.Fa(t+" a custom object"):e.Fa(t+" "+s)}}function Nc(t,e,n){if((e=At(e))instanceof ji)return e._internalPath;if(typeof e=="string")return Rc(t,e);throw Ki("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const p0=new RegExp("[~\\*/\\[\\]]");function Rc(t,e,n){if(e.search(p0)>=0)throw Ki(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ji(...e.split("."))._internalPath}catch(s){throw Ki(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ki(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new M(T.INVALID_ARGUMENT,a+t+c)}function Md(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g0 extends zi{data(){return super.data()}}function Dc(t,e){return typeof e=="string"?Rc(t,e):e instanceof ji?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xc extends zi{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Dc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Gi extends xc{data(e={}){return super.data(e)}}class Ld{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new is(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Gi(this._firestore,this._userDataWriter,s.key,s,new is(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new M(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>({type:"added",doc:new Gi(s._firestore,s._userDataWriter,o.doc.key,o.doc,new is(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:i++}))}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new Gi(s._firestore,s._userDataWriter,o.doc.key,o.doc,new is(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,l=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),l=i.indexOf(o.doc.key)),{type:m0(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function m0(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){if(_i(t)&&t.explicitOrderBy.length===0)throw new M(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y0{}function qT(t,...e){for(const n of e)t=n._apply(t);return t}class v0 extends y0{constructor(e,n){super(),this.Ka=e,this.Wa=n,this.type="orderBy"}_apply(e){const n=function(s,r,i){if(s.startAt!==null)throw new M(T.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new M(T.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Yn(r,i);return function(a,c){if(Ef(a)===null){const l=Tf(a);l!==null&&w0(a,l,c.field)}}(s,o),o}(e._query,this.Ka,this.Wa);return new rs(e.firestore,e.converter,function(s,r){const i=s.explicitOrderBy.concat([r]);return new Xs(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function HT(t,e="asc"){const n=e,s=Dc("orderBy",t);return new v0(s,n)}function w0(t,e,n){if(!n.isEqual(e))throw new M(T.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{convertValue(e,n="none"){switch(vn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw q()}}convertObject(e,n){const s={};return Gn(e.fields,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new Ac(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ff(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ws(e));default:return null}}convertTimestamp(e){const n=zt(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Te.fromString(e);we(Jf(s));const r=new ar(s.get(1),s.get(3)),i=new H(s.popFirst(5));return r.isEqual(n)||Ht(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class T0 extends Vd{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function lr(t,e){if((t=At(t)).firestore!==e)throw new M(T.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Wi extends Vd{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}}function KT(t){t=cr(t,rs);const e=cr(t.firestore,Bi),n=Ic(e),s=new Wi(e);return Fd(t._query),n0(n,t._query).then(r=>new Ld(e,s,t,r))}function zT(t,...e){var n,s,r;t=At(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Rd(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(Rd(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let c,l,u;if(t instanceof ct)l=cr(t.firestore,Bi),u=ec(t._key.path),c={next:h=>{e[o]&&e[o](b0(l,t,h))},error:e[o+1],complete:e[o+2]};else{const h=cr(t,rs);l=cr(h.firestore,Bi),u=h._query;const f=new Wi(l);c={next:g=>{e[o]&&e[o](new Ld(l,f,h,g))},error:e[o+1],complete:e[o+2]},Fd(t._query)}return function(h,f,g,y){const R=new bd(y),I=new pd(f,R,g);return h.asyncQueue.enqueueAndForget(async()=>fd(await Ec(h),I)),()=>{R.Xo(),h.asyncQueue.enqueueAndForget(async()=>dd(await Ec(h),I))}}(Ic(l),u,a,c)}function b0(t,e,n){const s=n.docs.get(e._key),r=new Wi(t);return new xc(t,r,e._key,s,new is(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=u0(e)}get(e){const n=lr(e,this._firestore),s=new T0(this._firestore);return this._transaction.lookup([n._key]).then(r=>{if(!r||r.length!==1)return q();const i=r[0];if(i.isFoundDocument())return new zi(this._firestore,s,i.key,i,n.converter);if(i.isNoDocument())return new zi(this._firestore,s,n._key,null,n.converter);throw q()})}set(e,n,s){const r=lr(e,this._firestore),i=E0(r.converter,n,s),o=h0(this._dataReader,"Transaction.set",r._key,i,r.converter!==null,s);return this._transaction.set(r._key,o),this}update(e,n,s,...r){const i=lr(e,this._firestore);let o;return o=typeof(n=At(n))=="string"||n instanceof ji?d0(this._dataReader,"Transaction.update",i._key,n,s,r):f0(this._dataReader,"Transaction.update",i._key,n),this._transaction.update(i._key,o),this}delete(e){const n=lr(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=lr(e,this._firestore),s=new Wi(this._firestore);return super.get(e).then(r=>new xc(this._firestore,s,n._key,r._document,new is(!1,!1),n.converter))}}function GT(t,e){return s0(Ic(t),n=>e(new I0(t,n)))}var _0;(function(t){Kn=t})(Uy),Xo(new Kr("firestore",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),s=new Bi(n,new Zv(t.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),s._setSettings(e),s},"PUBLIC")),Un(rf,"3.1.1",_0),Un(rf,"3.1.1","esm2017");/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const Ud=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",os=t=>Ud?Symbol(t):"_vr_"+t,A0=os("rvlm"),$d=os("rvd"),kc=os("r"),Bd=os("rl"),Oc=os("rvl"),as=typeof window!="undefined";function C0(t){return t.__esModule||Ud&&t[Symbol.toStringTag]==="Module"}const he=Object.assign;function Pc(t,e){const n={};for(const s in e){const r=e[s];n[s]=Array.isArray(r)?r.map(t):t(r)}return n}const ur=()=>{},S0=/\/$/,N0=t=>t.replace(S0,"");function Mc(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("?"),c=e.indexOf("#",a>-1?a:0);return a>-1&&(s=e.slice(0,a),i=e.slice(a+1,c>-1?c:e.length),r=t(i)),c>-1&&(s=s||e.slice(0,c),o=e.slice(c,e.length)),s=k0(s!=null?s:e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function R0(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function jd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function D0(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&cs(e.matched[s],n.matched[r])&&qd(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function cs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function qd(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!x0(t[n],e[n]))return!1;return!0}function x0(t,e){return Array.isArray(t)?Hd(t,e):Array.isArray(e)?Hd(e,t):t===e}function Hd(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function k0(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],!(r===1||o==="."))if(o==="..")r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var hr;(function(t){t.pop="pop",t.push="push"})(hr||(hr={}));var fr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(fr||(fr={}));function O0(t){if(!t)if(as){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),N0(t)}const P0=/^[^#]+#/;function M0(t,e){return t.replace(P0,"#")+e}function L0(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Qi=()=>({left:window.pageXOffset,top:window.pageYOffset});function F0(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=L0(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Kd(t,e){return(history.state?history.state.position-e:-1)+t}const Lc=new Map;function V0(t,e){Lc.set(t,e)}function U0(t){const e=Lc.get(t);return Lc.delete(t),e}let $0=()=>location.protocol+"//"+location.host;function zd(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),jd(c,"")}return jd(n,t)+s+r}function B0(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const g=zd(t,location),y=n.value,R=e.value;let I=0;if(f){if(n.value=g,e.value=f,o&&o===y){o=null;return}I=R?f.position-R.position:0}else s(g);r.forEach(N=>{N(n.value,y,{delta:I,type:hr.pop,direction:I?I>0?fr.forward:fr.back:fr.unknown})})};function c(){o=n.value}function l(f){r.push(f);const g=()=>{const y=r.indexOf(f);y>-1&&r.splice(y,1)};return i.push(g),g}function u(){const{history:f}=window;!f.state||f.replaceState(he({},f.state,{scroll:Qi()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:l,destroy:h}}function Gd(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Qi():null}}function j0(t){const{history:e,location:n}=window,s={value:zd(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:$0()+t+c;try{e[u?"replaceState":"pushState"](l,"",f),r.value=l}catch(g){console.error(g),n[u?"replace":"assign"](f)}}function o(c,l){const u=he({},e.state,Gd(r.value.back,c,r.value.forward,!0),l,{position:r.value.position});i(c,u,!0),s.value=c}function a(c,l){const u=he({},r.value,e.state,{forward:c,scroll:Qi()});i(u.current,u,!0);const h=he({},Gd(s.value,c,null),{position:u.position+1},l);i(c,h,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function WT(t){t=O0(t);const e=j0(t),n=B0(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=he({location:"",base:t,go:s,createHref:M0.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function q0(t){return typeof t=="string"||t&&typeof t=="object"}function Wd(t){return typeof t=="string"||typeof t=="symbol"}const Qt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Qd=os("nf");var Yd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Yd||(Yd={}));function ls(t,e){return he(new Error,{type:t,[Qd]:!0},e)}function _n(t,e){return t instanceof Error&&Qd in t&&(e==null||!!(t.type&e))}const Xd="[^/]+?",H0={sensitive:!1,strict:!1,start:!0,end:!0},K0=/[.+*?^${}()[\]/\\]/g;function z0(t,e){const n=he({},H0,e),s=[];let r=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(r+="/");for(let h=0;h<l.length;h++){const f=l[h];let g=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(K0,"\\$&"),g+=40;else if(f.type===1){const{value:y,repeatable:R,optional:I,regexp:N}=f;i.push({name:y,repeatable:R,optional:I});const $=N||Xd;if($!==Xd){g+=10;try{new RegExp(`(${$})`)}catch(W){throw new Error(`Invalid custom RegExp for param "${y}" (${$}): `+W.message)}}let G=R?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;h||(G=I&&l.length<2?`(?:/${G})`:"/"+G),I&&(G+="?"),r+=G,g+=20,I&&(g+=-8),R&&(g+=-20),$===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",y=i[f-1];h[y.name]=g&&y.repeatable?g.split("/"):g}return h}function c(l){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:y,repeatable:R,optional:I}=g,N=y in l?l[y]:"";if(Array.isArray(N)&&!R)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const $=Array.isArray(N)?N.join("/"):N;if(!$)if(I)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);u+=$}}return u}return{re:o,score:s,keys:i,parse:a,stringify:c}}function G0(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function W0(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=G0(s[n],r[n]);if(i)return i;n++}return r.length-s.length}const Q0={type:0,value:""},Y0=/[a-zA-Z0-9_]/;function X0(t){if(!t)return[[]];if(t==="/")return[[Q0]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${l}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,l="",u="";function h(){!l||(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:c==="("?n=2:Y0.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),r}function J0(t,e,n){const s=z0(X0(t.path),n),r=he(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Z0(t,e){const n=[],s=new Map;e=Zd({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const g=!f,y=tT(u);y.aliasOf=f&&f.record;const R=Zd(e,u),I=[y];if("alias"in u){const G=typeof u.alias=="string"?[u.alias]:u.alias;for(const W of G)I.push(he({},y,{components:f?f.record.components:y.components,path:W,aliasOf:f?f.record:y}))}let N,$;for(const G of I){const{path:W}=G;if(h&&W[0]!=="/"){const ge=h.record.path,be=ge[ge.length-1]==="/"?"":"/";G.path=h.record.path+(W&&be+W)}if(N=J0(G,h,R),f?f.alias.push(N):($=$||N,$!==N&&$.alias.push(N),g&&u.name&&!Jd(N)&&o(u.name)),"children"in y){const ge=y.children;for(let be=0;be<ge.length;be++)i(ge[be],N,f&&f.children[be])}f=f||N,c(N)}return $?()=>{o($)}:ur}function o(u){if(Wd(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&W0(u,n[h])>=0;)h++;n.splice(h,0,u),u.record.name&&!Jd(u)&&s.set(u.record.name,u)}function l(u,h){let f,g={},y,R;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw ls(1,{location:u});R=f.record.name,g=he(eT(h.params,f.keys.filter($=>!$.optional).map($=>$.name)),u.params),y=f.stringify(g)}else if("path"in u)y=u.path,f=n.find($=>$.re.test(y)),f&&(g=f.parse(y),R=f.record.name);else{if(f=h.name?s.get(h.name):n.find($=>$.re.test(h.path)),!f)throw ls(1,{location:u,currentLocation:h});R=f.record.name,g=he({},h.params,u.params),y=f.stringify(g)}const I=[];let N=f;for(;N;)I.unshift(N.record),N=N.parent;return{name:R,path:y,params:g,matched:I,meta:sT(I)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function eT(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function tT(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:nT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function nT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function Jd(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function sT(t){return t.reduce((e,n)=>he(e,n.meta),{})}function Zd(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const ep=/#/g,rT=/&/g,iT=/\//g,oT=/=/g,aT=/\?/g,tp=/\+/g,cT=/%5B/g,lT=/%5D/g,np=/%5E/g,uT=/%60/g,sp=/%7B/g,hT=/%7C/g,rp=/%7D/g,fT=/%20/g;function Fc(t){return encodeURI(""+t).replace(hT,"|").replace(cT,"[").replace(lT,"]")}function dT(t){return Fc(t).replace(sp,"{").replace(rp,"}").replace(np,"^")}function Vc(t){return Fc(t).replace(tp,"%2B").replace(fT,"+").replace(ep,"%23").replace(rT,"%26").replace(uT,"`").replace(sp,"{").replace(rp,"}").replace(np,"^")}function pT(t){return Vc(t).replace(oT,"%3D")}function gT(t){return Fc(t).replace(ep,"%23").replace(aT,"%3F")}function mT(t){return t==null?"":gT(t).replace(iT,"%2F")}function Yi(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function yT(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(tp," "),o=i.indexOf("="),a=Yi(o<0?i:i.slice(0,o)),c=o<0?null:Yi(i.slice(o+1));if(a in e){let l=e[a];Array.isArray(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function ip(t){let e="";for(let n in t){const s=t[n];if(n=pT(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(s)?s.map(i=>i&&Vc(i)):[s&&Vc(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function vT(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Array.isArray(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}function dr(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Yt(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(ls(4,{from:n,to:e})):h instanceof Error?a(h):q0(h)?a(ls(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},l=t.call(s&&s.instances[r],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function Uc(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(wT(a)){const l=(a.__vccOpts||a)[e];l&&r.push(Yt(l,n,s,i,o))}else{let c=a();r.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=C0(l)?l.default:l;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&Yt(f,n,s,i,o)()}))}}return r}function wT(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function op(t){const e=Ft(kc),n=Ft(Bd),s=Tt(()=>e.resolve(vs(t.to))),r=Tt(()=>{const{matched:c}=s.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(cs.bind(null,u));if(f>-1)return f;const g=ap(c[l-2]);return l>1&&ap(u)===g&&h[h.length-1].path!==g?h.findIndex(cs.bind(null,c[l-2])):f}),i=Tt(()=>r.value>-1&&IT(n.params,s.value.params)),o=Tt(()=>r.value>-1&&r.value===n.matched.length-1&&qd(n.params,s.value.params));function a(c={}){return bT(c)?e[vs(t.replace)?"replace":"push"](vs(t.to)).catch(ur):Promise.resolve()}return{route:s,href:Tt(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const ET=Sl({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:op,setup(t,{slots:e}){const n=ms(op(t)),{options:s}=Ft(kc),r=Tt(()=>({[cp(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[cp(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:gu("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),TT=ET;function bT(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function IT(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Array.isArray(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function ap(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const cp=(t,e,n)=>t!=null?t:e!=null?e:n,_T=Sl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const s=Ft(Oc),r=Tt(()=>t.route||s.value),i=Ft($d,0),o=Tt(()=>r.value.matched[i]);Rr($d,i+1),Rr(A0,o),Rr(Oc,r);const a=Jp();return $r(()=>[a.value,o.value,t.name],([c,l,u],[h,f,g])=>{l&&(l.instances[u]=c,f&&f!==l&&c&&c===h&&(l.leaveGuards.size||(l.leaveGuards=f.leaveGuards),l.updateGuards.size||(l.updateGuards=f.updateGuards))),c&&l&&(!f||!cs(l,f)||!h)&&(l.enterCallbacks[u]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=r.value,l=o.value,u=l&&l.components[t.name],h=t.name;if(!u)return lp(n.default,{Component:u,route:c});const f=l.props[t.name],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,R=gu(u,he({},g,e,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(l.instances[h]=null)},ref:a}));return lp(n.default,{Component:R,route:c})||R}}});function lp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const AT=_T;function QT(t){const e=Z0(t.routes,t),n=t.parseQuery||yT,s=t.stringifyQuery||ip,r=t.history,i=dr(),o=dr(),a=dr(),c=Zp(Qt);let l=Qt;as&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Pc.bind(null,v=>""+v),h=Pc.bind(null,mT),f=Pc.bind(null,Yi);function g(v,P){let S,F;return Wd(v)?(S=e.getRecordMatcher(v),F=P):F=v,e.addRoute(F,S)}function y(v){const P=e.getRecordMatcher(v);P&&e.removeRoute(P)}function R(){return e.getRoutes().map(v=>v.record)}function I(v){return!!e.getRecordMatcher(v)}function N(v,P){if(P=he({},P||c.value),typeof v=="string"){const Q=Mc(n,v,P.path),d=e.resolve({path:Q.path},P),p=r.createHref(Q.fullPath);return he(Q,d,{params:f(d.params),hash:Yi(Q.hash),redirectedFrom:void 0,href:p})}let S;if("path"in v)S=he({},v,{path:Mc(n,v.path,P.path).path});else{const Q=he({},v.params);for(const d in Q)Q[d]==null&&delete Q[d];S=he({},v,{params:h(v.params)}),P.params=h(P.params)}const F=e.resolve(S,P),ce=v.hash||"";F.params=u(f(F.params));const pe=R0(s,he({},v,{hash:dT(ce),path:F.path})),X=r.createHref(pe);return he({fullPath:pe,hash:ce,query:s===ip?vT(v.query):v.query||{}},F,{redirectedFrom:void 0,href:X})}function $(v){return typeof v=="string"?Mc(n,v,c.value.path):he({},v)}function G(v,P){if(l!==v)return ls(8,{from:P,to:v})}function W(v){return J(v)}function ge(v){return W(he($(v),{replace:!0}))}function be(v){const P=v.matched[v.matched.length-1];if(P&&P.redirect){const{redirect:S}=P;let F=typeof S=="function"?S(v):S;return typeof F=="string"&&(F=F.includes("?")||F.includes("#")?F=$(F):{path:F},F.params={}),he({query:v.query,hash:v.hash,params:v.params},F)}}function J(v,P){const S=l=N(v),F=c.value,ce=v.state,pe=v.force,X=v.replace===!0,Q=be(S);if(Q)return J(he($(Q),{state:ce,force:pe,replace:X}),P||S);const d=S;d.redirectedFrom=P;let p;return!pe&&D0(s,F,S)&&(p=ls(16,{to:d,from:F}),An(F,F,!0,!1)),(p?Promise.resolve(p):fe(d,F)).catch(m=>_n(m)?m:de(m,d,F)).then(m=>{if(m){if(_n(m,2))return J(he($(m.to),{state:ce,force:pe,replace:X}),P||d)}else m=De(d,F,!0,X,ce);return Le(d,F,m),m})}function Ce(v,P){const S=G(v,P);return S?Promise.reject(S):Promise.resolve()}function fe(v,P){let S;const[F,ce,pe]=CT(v,P);S=Uc(F.reverse(),"beforeRouteLeave",v,P);for(const Q of F)Q.leaveGuards.forEach(d=>{S.push(Yt(d,v,P))});const X=Ce.bind(null,v,P);return S.push(X),us(S).then(()=>{S=[];for(const Q of i.list())S.push(Yt(Q,v,P));return S.push(X),us(S)}).then(()=>{S=Uc(ce,"beforeRouteUpdate",v,P);for(const Q of ce)Q.updateGuards.forEach(d=>{S.push(Yt(d,v,P))});return S.push(X),us(S)}).then(()=>{S=[];for(const Q of v.matched)if(Q.beforeEnter&&!P.matched.includes(Q))if(Array.isArray(Q.beforeEnter))for(const d of Q.beforeEnter)S.push(Yt(d,v,P));else S.push(Yt(Q.beforeEnter,v,P));return S.push(X),us(S)}).then(()=>(v.matched.forEach(Q=>Q.enterCallbacks={}),S=Uc(pe,"beforeRouteEnter",v,P),S.push(X),us(S))).then(()=>{S=[];for(const Q of o.list())S.push(Yt(Q,v,P));return S.push(X),us(S)}).catch(Q=>_n(Q,8)?Q:Promise.reject(Q))}function Le(v,P,S){for(const F of a.list())F(v,P,S)}function De(v,P,S,F,ce){const pe=G(v,P);if(pe)return pe;const X=P===Qt,Q=as?history.state:{};S&&(F||X?r.replace(v.fullPath,he({scroll:X&&Q&&Q.scroll},ce)):r.push(v.fullPath,ce)),c.value=v,An(v,P,S,X),lt()}let L;function Ie(){L=r.listen((v,P,S)=>{const F=N(v),ce=be(F);if(ce){J(he(ce,{replace:!0}),F).catch(ur);return}l=F;const pe=c.value;as&&V0(Kd(pe.fullPath,S.delta),Qi()),fe(F,pe).catch(X=>_n(X,4|8)?X:_n(X,2)?(J(X.to,F).then(Q=>{_n(Q,4|16)&&!S.delta&&S.type===hr.pop&&r.go(-1,!1)}).catch(ur),Promise.reject()):(S.delta&&r.go(-S.delta,!1),de(X,F,pe))).then(X=>{X=X||De(F,pe,!1),X&&(S.delta?r.go(-S.delta,!1):S.type===hr.pop&&_n(X,4|16)&&r.go(-1,!1)),Le(F,pe,X)}).catch(ur)})}let Xe=dr(),St=dr(),_e;function de(v,P,S){lt(v);const F=St.list();return F.length?F.forEach(ce=>ce(v,P,S)):console.error(v),Promise.reject(v)}function ae(){return _e&&c.value!==Qt?Promise.resolve():new Promise((v,P)=>{Xe.add([v,P])})}function lt(v){_e||(_e=!0,Ie(),Xe.list().forEach(([P,S])=>v?S(v):P()),Xe.reset())}function An(v,P,S,F){const{scrollBehavior:ce}=t;if(!as||!ce)return Promise.resolve();const pe=!S&&U0(Kd(v.fullPath,0))||(F||!S)&&history.state&&history.state.scroll||null;return ou().then(()=>ce(v,P,pe)).then(X=>X&&F0(X)).catch(X=>de(X,v,P))}const Nt=v=>r.go(v);let vt;const ut=new Set;return{currentRoute:c,addRoute:g,removeRoute:y,hasRoute:I,getRoutes:R,resolve:N,options:t,push:W,replace:ge,go:Nt,back:()=>Nt(-1),forward:()=>Nt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:St.add,isReady:ae,install(v){const P=this;v.component("RouterLink",TT),v.component("RouterView",AT),v.config.globalProperties.$router=P,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>vs(c)}),as&&!vt&&c.value===Qt&&(vt=!0,W(r.location).catch(ce=>{}));const S={};for(const ce in Qt)S[ce]=Tt(()=>c.value[ce]);v.provide(kc,P),v.provide(Bd,ms(S)),v.provide(Oc,c);const F=v.unmount;ut.add(v),v.unmount=function(){ut.delete(v),ut.size<1&&(l=Qt,L&&L(),c.value=Qt,vt=!1,_e=!1),F()}}}}function us(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function CT(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>cs(l,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>cs(l,c))||r.push(c))}return[n,s,r]}export{GT as A,yt as F,qT as M,jT as O,OT as T,Zl as a,Ze as b,DT as c,$T as d,NT as e,FT as f,LT as g,kT as h,UT as i,MT as j,PT as k,KT as l,jg as m,xT as n,$g as o,VT as p,HT as q,RT as r,QT as s,ST as t,WT as u,BT as v,rg as w,zT as y};
